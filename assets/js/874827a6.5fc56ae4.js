"use strict";(self.webpackChunkcypress_docusaurus_ts=self.webpackChunkcypress_docusaurus_ts||[]).push([[8893],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>y});var r=n(7294);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,s=e.mdxType,o=e.originalType,l=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),u=c(n),d=s,y=u["".concat(l,".").concat(d)]||u[d]||m[d]||o;return n?r.createElement(y,a(a({ref:t},p),{},{components:n})):r.createElement(y,a({ref:t},p))}));function y(e,t){var n=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var o=n.length,a=new Array(o);a[0]=d;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[u]="string"==typeof e?e:s,a[1]=i;for(var c=2;c<o;c++)a[c]=n[c];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},4051:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>y,frontMatter:()=>o,metadata:()=>i,toc:()=>c});var r=n(7462),s=(n(7294),n(3905));const o={title:"CircleCI"},a=void 0,i={unversionedId:"guides/continuous-integration/circleci",id:"guides/continuous-integration/circleci",title:"CircleCI",description:"What you'll learn",source:"@site/docs/guides/continuous-integration/circleci.mdx",sourceDirName:"guides/continuous-integration",slug:"/guides/continuous-integration/circleci",permalink:"/guides/continuous-integration/circleci",draft:!1,editUrl:"https://github.com/cypress-io/cypress-documentation/tree/main/docs/guides/continuous-integration/circleci.mdx",tags:[],version:"current",lastUpdatedAt:1717543864,formattedLastUpdatedAt:"Jun 4, 2024",frontMatter:{title:"CircleCI"},sidebar:"guides",previous:{title:"Bitbucket Pipelines",permalink:"/guides/continuous-integration/bitbucket-pipelines"},next:{title:"GitHub Actions",permalink:"/guides/continuous-integration/github-actions"}},l={},c=[{value:"Basic Setup",id:"Basic-Setup",level:2},{value:"Parallelization",id:"Parallelization",level:2},{value:"Additional Examples",id:"Additional-Examples",level:2},{value:"Component Testing Example",id:"Component-Testing-Example",level:4},{value:"Yarn Example",id:"Yarn-Example",level:4},{value:"Chrome Example",id:"Chrome-Example",level:4}],p=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,s.kt)("div",t)},u=p("Icon"),m=p("Badge"),d={toc:c};function y(e){let{components:t,...n}=e;return(0,s.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("admonition",{type:"info"},(0,s.kt)("h2",{parentName:"admonition",id:"What-youll-learn"},(0,s.kt)(u,{name:"graduation-cap",mdxType:"Icon"})," What you'll learn"),(0,s.kt)("ul",{parentName:"admonition"},(0,s.kt)("li",{parentName:"ul"},"How to run Cypress tests with CircleCI as part of CI/CD pipeline"),(0,s.kt)("li",{parentName:"ul"},"How to parallelize Cypress test runs within CircleCI"))),(0,s.kt)("p",null,"The\n",(0,s.kt)("a",{parentName:"p",href:"https://circleci.com/developer/orbs/orb/cypress-io/cypress"},"Cypress CircleCI Orb"),"\nis the ",(0,s.kt)("em",{parentName:"p"},"official")," CircleCI Orb of Cypress. Although you do not need to use the\norb to run your tests in CircleCI, the benefit of using the orb is that it\nallows you to easily install, cache and run Cypress tests in CircleCI with less\neffort. The orb abstracts common steps necessary for running your tests in\nCircleCI in order to make your life as a developer better!"),(0,s.kt)("h2",{id:"Basic-Setup"},"Basic Setup"),(0,s.kt)("p",null,"The ",(0,s.kt)("a",{parentName:"p",href:"https://github.com/cypress-io/circleci-orb"},"Cypress CircleCI Orb")," is a\npiece of configuration set in your ",(0,s.kt)("inlineCode",{parentName:"p"},".circleci/config.yml")," file to correctly\ninstall, cache and run Cypress with very little effort."),(0,s.kt)("p",null,"For the Orb Quick Start Guide and usage cases, view the CircleCI\n",(0,s.kt)("a",{parentName:"p",href:"https://circleci.com/developer/orbs/orb/cypress-io/cypress"},"Cypress orb documentation"),"."),(0,s.kt)("p",null,"A typical project can have:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-yaml"},'version: 2.1\norbs:\n  # "cypress-io/cypress@3" installs the latest published\n  # version "s.x.y" of the orb. We recommend you then use\n  # the strict explicit version "cypress-io/cypress@3.x.y"\n  # to lock the version and prevent unexpected CI changes\n  cypress: cypress-io/cypress@3\nworkflows:\n  build:\n    jobs:\n      - cypress/run # "run" job comes from "cypress" orb\n          start-command: \'npm run start\'\n')),(0,s.kt)("p",null,"That's it! Your repo's dependencies will be installed and cached and your\nCypress tests will run in CircleCI"),(0,s.kt)("h2",{id:"Parallelization"},"Parallelization"),(0,s.kt)("p",null,"A more complex project that needs to install dependencies, start a server, and\nrun tests across 4 CI machines\n",(0,s.kt)("a",{parentName:"p",href:"/guides/cloud/smart-orchestration/parallelization"},"in parallel")," may have:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-yaml"},"version: 2.1\norbs:\n  cypress: cypress-io/cypress@3\nworkflows:\n  build:\n    jobs:\n      - cypress/run:\n          start-command: 'npm run start'\n          cypress-command: 'npx cypress run --parallel --record --group all tests'\n          parallelism: 4\n")),(0,s.kt)("p",null,"Using the orb brings simplicity and static checks of parameters to CircleCI\nconfiguration."),(0,s.kt)("p",null,"You can find additional examples at\n",(0,s.kt)("a",{parentName:"p",href:"https://github.com/cypress-io/circleci-orb/blob/master/src/examples"},"our orb examples page"),"."),(0,s.kt)("admonition",{type:"info"},(0,s.kt)("h3",{parentName:"admonition",id:"Real-World-Example-New"},(0,s.kt)(u,{name:"graduation-cap",mdxType:"Icon"})," Real World Example ",(0,s.kt)(m,{type:"success",mdxType:"Badge"},"New")),(0,s.kt)("p",{parentName:"admonition"},"The Cypress ",(0,s.kt)(u,{name:"github",inline:"true",contentType:"rwa",mdxType:"Icon"})," uses the\nCircle CI ",(0,s.kt)("a",{parentName:"p",href:"https://github.com/cypress-io/circleci-orb"},"Cypress Orb"),", Codecov\nOrb, and Windows Orb to test over 300 test cases in parallel across 25 machines,\nmultiple browsers, multiple device sizes, and multiple operating systems with\nfull code-coverage reporting and\n",(0,s.kt)("a",{parentName:"p",href:"https://cloud.cypress.io/projects/7s5okt"},"Cypress Cloud recording"),"."),(0,s.kt)("p",{parentName:"admonition"},"Check out the full ",(0,s.kt)(u,{name:"github",inline:"true",callout:"RWA Circle CI configuration",url:"https://github.com/cypress-io/cypress-realworld-app/blob/develop/.circleci/config.yml",mdxType:"Icon"}),".")),(0,s.kt)("h2",{id:"Additional-Examples"},"Additional Examples"),(0,s.kt)("h4",{id:"Component-Testing-Example"},"Component Testing Example"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-yaml"},"version: 2.1\norbs:\n  cypress: cypress-io/cypress@3\nworkflows:\n  test:\n    jobs:\n      - cypress/run:\n          cypress-command: 'npx cypress run --component'\n")),(0,s.kt)("h4",{id:"Yarn-Example"},"Yarn Example"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-yaml"},"version: 2.1\norbs:\n  cypress: cypress-io/cypress@3\nworkflows:\n  test:\n    jobs:\n      - cypress/run:\n          package-manager: 'yarn'\n          start-command: 'yarn start'\n")),(0,s.kt)("h4",{id:"Chrome-Example"},"Chrome Example"),(0,s.kt)("p",null,"Cypress uses Electron by default to run your tests. The ",(0,s.kt)("inlineCode",{parentName:"p"},"install-browsers")," flag\nis used to install Firefox and Chrome to run your tests. This is only needed if\nyou are passing the ",(0,s.kt)("inlineCode",{parentName:"p"},"--browser")," flag in your ",(0,s.kt)("inlineCode",{parentName:"p"},"cypress-command")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-yaml"},"version: 2.1\norbs:\n  cypress: cypress-io/cypress@3\nworkflows:\n  test:\n    jobs:\n      - cypress/run:\n          install-browsers: true\n          start-command: 'npm run start'\n          cypress-command: 'npx cypress run --browser chrome'\n")))}y.isMDXComponent=!0}}]);