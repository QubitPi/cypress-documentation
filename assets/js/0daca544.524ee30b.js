"use strict";(self.webpackChunkcypress_docusaurus_ts=self.webpackChunkcypress_docusaurus_ts||[]).push([[7541],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>k});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),d=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},s=function(e){var t=d(e.components);return a.createElement(p.Provider,{value:t},e.children)},m="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),m=d(n),c=r,k=m["".concat(p,".").concat(c)]||m[c]||u[c]||i;return n?a.createElement(k,l(l({ref:t},s),{},{components:n})):a.createElement(k,l({ref:t},s))}));function k(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=c;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[m]="string"==typeof e?e:r,l[1]=o;for(var d=2;d<i;d++)l[d]=n[d];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},6385:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>c,frontMatter:()=>i,metadata:()=>o,toc:()=>d});var a=n(7462),r=(n(7294),n(3905));const i={title:"Experiments"},l=void 0,o={unversionedId:"guides/references/experiments",id:"guides/references/experiments",title:"Experiments",description:"If you'd like to try out what we're working on in Cypress, you can enable",source:"@site/docs/guides/references/experiments.mdx",sourceDirName:"guides/references",slug:"/guides/references/experiments",permalink:"/cypress-documentation/guides/references/experiments",draft:!1,editUrl:"https://github.com/cypress-io/cypress-documentation/tree/main/docs/guides/references/experiments.mdx",tags:[],version:"current",lastUpdatedAt:1696481464,formattedLastUpdatedAt:"Oct 5, 2023",frontMatter:{title:"Experiments"},sidebar:"guides",previous:{title:"Error Messages",permalink:"/cypress-documentation/guides/references/error-messages"},next:{title:"Migration Guide",permalink:"/cypress-documentation/guides/references/migration-guide"}},p={},d=[{value:"Configuration",id:"Configuration",level:2},{value:"Experimental CSP Allow List",id:"Experimental-CSP-Allow-List",level:3},{value:"Strip All CSP Headers",id:"Strip-All-CSP-Headers",level:4},{value:"Strip Minimum CSP Directives",id:"Strip-Minimum-CSP-Directives",level:4},{value:"Allow Specific CSP Directives",id:"Allow-Specific-CSP-Directives",level:4},{value:"Testing Type-Specific Experiments",id:"Testing-Type-Specific-Experiments",level:2},{value:"End-to-End Testing",id:"End-to-End-Testing",level:3},{value:"Experimental Skip Domain Injection",id:"Experimental-Skip-Domain-Injection",level:4},{value:"Component Testing",id:"Component-Testing",level:3},{value:"History",id:"History",level:2}],s=(m="CypressConfigFileTabs",function(e){return console.warn("Component "+m+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.kt)("div",e)});var m;const u={toc:d};function c(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"If you'd like to try out what we're working on in Cypress, you can enable\nspecific experimental features for your project using the Cypress configuration\noptions described below."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"\u26a0\ufe0f The experimental features might change or ultimately be removed without\nmaking it into the core product. Our primary goal for experiments is to collect\nreal-world feedback during their development. For more information, see the\ndocumentation for all\n",(0,r.kt)("a",{parentName:"p",href:"/guides/references/release-stages"},"Cypress Release Stages"),".")),(0,r.kt)("h2",{id:"Configuration"},"Configuration"),(0,r.kt)("p",null,"You can pass the ",(0,r.kt)("a",{parentName:"p",href:"/guides/references/configuration"},"Cypress configuration"),"\noptions below to enable or disable experiments. See our\n",(0,r.kt)("a",{parentName:"p",href:"/guides/references/configuration"},"Configuration Guide")," on how to pass\nconfiguration to Cypress."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Option"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"experimentalCspAllowList")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false")),(0,r.kt)("td",{parentName:"tr",align:null},"Indicates the Content-Security-Policy directives to be permitted during a test run. See ",(0,r.kt)("a",{parentName:"td",href:"/guides/guides/content-security-policy"},"Content-Security-Policy")," for more information.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"experimentalFetchPolyfill")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false")),(0,r.kt)("td",{parentName:"tr",align:null},"Automatically replaces ",(0,r.kt)("inlineCode",{parentName:"td"},"window.fetch")," with a polyfill that Cypress can spy on and stub. Note: ",(0,r.kt)("inlineCode",{parentName:"td"},"experimentalFetchPolyfill")," has been deprecated in Cypress 6.0.0 and will be removed in a future release. Consider using ",(0,r.kt)("a",{parentName:"td",href:"/api/commands/intercept"},"cy.intercept()")," to intercept ",(0,r.kt)("inlineCode",{parentName:"td"},"fetch")," requests instead.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"experimentalInteractiveRunEvents")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false")),(0,r.kt)("td",{parentName:"tr",align:null},"Allows listening to the ",(0,r.kt)("a",{parentName:"td",href:"/api/plugins/before-run-api"},(0,r.kt)("inlineCode",{parentName:"a"},"before:run")),", ",(0,r.kt)("a",{parentName:"td",href:"/api/plugins/after-run-api"},(0,r.kt)("inlineCode",{parentName:"a"},"after:run")),", ",(0,r.kt)("a",{parentName:"td",href:"/api/plugins/before-spec-api"},(0,r.kt)("inlineCode",{parentName:"a"},"before:spec")),", and ",(0,r.kt)("a",{parentName:"td",href:"/api/plugins/after-spec-api"},(0,r.kt)("inlineCode",{parentName:"a"},"after:spec"))," events in the ",(0,r.kt)("a",{parentName:"td",href:"/guides/tooling/plugins-guide#Using-a-plugin"},"setupNodeEvents")," function during interactive mode.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"experimentalMemoryManagement")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false")),(0,r.kt)("td",{parentName:"tr",align:null},"Enables support for improved memory management within Chromium-based browsers.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"experimentalModifyObstructiveThirdPartyCode")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false")),(0,r.kt)("td",{parentName:"tr",align:null},"Whether Cypress will search for and replace obstructive code in third party ",(0,r.kt)("inlineCode",{parentName:"td"},".js")," or ",(0,r.kt)("inlineCode",{parentName:"td"},".html")," files. NOTE: Setting this flag removes ",(0,r.kt)("a",{parentName:"td",href:"https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity"},"Subresource Integrity (SRI)"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"experimentalSourceRewriting")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false")),(0,r.kt)("td",{parentName:"tr",align:null},"Enables AST-based JS/HTML rewriting. This may fix issues caused by the existing regex-based JS/HTML replacement algorithm. See ",(0,r.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/issues/5273"},"#5273")," for details.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"experimentalWebKitSupport")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false")),(0,r.kt)("td",{parentName:"tr",align:null},"Enable experimental support for running tests in WebKit. When set, installs of ",(0,r.kt)("inlineCode",{parentName:"td"},"playwright-webkit")," will be detected and available in Cypress. See ",(0,r.kt)("a",{parentName:"td",href:"/guides/guides/launching-browsers#WebKit-Experimental"},"Launching Browsers")," for more information.")))),(0,r.kt)("h3",{id:"Experimental-CSP-Allow-List"},"Experimental CSP Allow List"),(0,r.kt)("p",null,"Cypress by default strips all CSP headers (",(0,r.kt)("inlineCode",{parentName:"p"},"Content-Security-Policy")," and\n",(0,r.kt)("inlineCode",{parentName:"p"},"Content-Security-Policy-Report-Only"),") from the response before it is sent to\nthe browser. The ",(0,r.kt)("inlineCode",{parentName:"p"},"experimentalCspAllowList")," option allows for more granular\ncontrol over which CSP directives are stripped from the CSP response headers,\nallowing you to test your application with CSP enabled. Valid values for this\noption are ",(0,r.kt)("inlineCode",{parentName:"p"},"false")," (the default), ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),", or an array of CSP directive names."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Value"),(0,r.kt)("th",{parentName:"tr",align:null},"Example"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#Strip-All-CSP-Headers"},(0,r.kt)("inlineCode",{parentName:"a"},"false")," (default)")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"experimentalCspAllowList=false"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#Strip-Minimum-CSP-Directives"},(0,r.kt)("inlineCode",{parentName:"a"},"true"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"experimentalCspAllowList=true"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#Allow-Specific-CSP-Directives"},(0,r.kt)("inlineCode",{parentName:"a"},"<CspDirectives>[]"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'experimentalCspAllowList=["default-src","script-src"]'))))),(0,r.kt)("h4",{id:"Strip-All-CSP-Headers"},"Strip All CSP Headers"),(0,r.kt)("p",null,"The value ",(0,r.kt)("inlineCode",{parentName:"p"},"experimentalCspAllowList=false")," (default) will remove all CSP headers\nfrom the response before it is sent to the browser. This option should be used\nif you do not depend on CSP for any tests in your application."),(0,r.kt)("h4",{id:"Strip-Minimum-CSP-Directives"},"Strip Minimum CSP Directives"),(0,r.kt)("p",null,"If you need to test your application with CSP enabled, setting the\n",(0,r.kt)("inlineCode",{parentName:"p"},"experimentalCspAllowList")," option will allow all CSP headers to be sent to the\nbrowser ",(0,r.kt)("em",{parentName:"p"},(0,r.kt)("em",{parentName:"em"},"except"))," those that could prevent Cypress from functioning normally."),(0,r.kt)("p",null,"The following CSP directives will always be stripped:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Stripped Directive"),(0,r.kt)("th",{parentName:"tr",align:null},"Allowable"),(0,r.kt)("th",{parentName:"tr",align:null},"Reason"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"frame-ancestors")),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"Prevents Cypress from loading a test application into an iframe.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"navigate-to")),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"Affects Cypress' ability to navigate to different URLs.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"require-trusted-types-for")),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"Might prevent Cypress from rewriting the DOM.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"sandbox")),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"Can restrict access to script and iframe functionality.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"trusted-types")),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"Could cause Cypress injections to be marked as untrusted.")))),(0,r.kt)("p",null,"When ",(0,r.kt)("inlineCode",{parentName:"p"},"experimentalCspAllowList=true")," the following directives are also stripped\nin addition to the ones listed above, but can be configured to be allowed to be\nsent to the browser:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Stripped Directive"),(0,r.kt)("th",{parentName:"tr",align:null},"Allowable"),(0,r.kt)("th",{parentName:"tr",align:null},"Reason"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"child-src")),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Could prevent iframes from loading in combination with other Cypress options.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"default-src")),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Conditionally prevents Cypress from loading scripts and running.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"frame-src")),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Could prevent iframes from loading in combination with other Cypress options.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"form-action")),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Can prevent Cypress from monitoring form events.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"script-src")),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Conditionally prevents Cypress from loading scripts and running.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"script-src-elem")),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Conditionally prevents Cypress from loading scripts and running.")))),(0,r.kt)("h4",{id:"Allow-Specific-CSP-Directives"},"Allow Specific CSP Directives"),(0,r.kt)("p",null,"Set the ",(0,r.kt)("inlineCode",{parentName:"p"},"experimentalCspAllowList"),' option to an array of directive names marked\nas "Allowable" from the list above. This will allow the specified CSP directives\nto be sent to the browser.'),(0,r.kt)("p",null,"The following configuration would allow the ",(0,r.kt)("inlineCode",{parentName:"p"},"default-src"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"script-src"),", and\n",(0,r.kt)("inlineCode",{parentName:"p"},"script-src-elem")," directives to be sent to the browser:"),(0,r.kt)("cypress-config-example",null,(0,r.kt)(s,{mdxType:"CypressConfigFileTabs"},(0,r.kt)("pre",{parentName:"cypress-config-example"},(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const { defineConfig } = require('cypress')\n\nmodule.exports = defineConfig({\n  experimentalCspAllowList: ['default-src', 'script-src', 'script-src-elem'],\n})\n")),(0,r.kt)("pre",{parentName:"cypress-config-example"},(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"import { defineConfig } from 'cypress'\n\nexport default defineConfig({\n  experimentalCspAllowList: ['default-src', 'script-src', 'script-src-elem'],\n})\n")))),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Defining ",(0,r.kt)("inlineCode",{parentName:"p"},"experimentalCspAllowList")," ",(0,r.kt)("em",{parentName:"p"},(0,r.kt)("em",{parentName:"em"},"may"))," cause Cypress to be unable to run\ntests against your application. If you experience issues, reduce the directives\nspecified in your allow list to identify which directive is causing issues."),(0,r.kt)("p",{parentName:"admonition"},"There is a known issue when using certain directives containing hash algorithm\nvalues and the ",(0,r.kt)("inlineCode",{parentName:"p"},"modifyObstructiveCode")," and/or ",(0,r.kt)("inlineCode",{parentName:"p"},"experimentalSourceRewriting"),"\noptions. Using these options in combination with the ",(0,r.kt)("inlineCode",{parentName:"p"},"experimentalCspAllowList"),"\noption can cause a mismatch between the original hashed directive value, and the\nmodified HTML or JS value.")),(0,r.kt)("h2",{id:"Testing-Type-Specific-Experiments"},"Testing Type-Specific Experiments"),(0,r.kt)("p",null,"You can provide configuration options for either E2E or Component Testing by\ncreating ",(0,r.kt)("inlineCode",{parentName:"p"},"e2e")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"component")," objects inside your Cypress configuration."),(0,r.kt)("h3",{id:"End-to-End-Testing"},"End-to-End Testing"),(0,r.kt)("p",null,"These experiments are available to be specified inside the ",(0,r.kt)("inlineCode",{parentName:"p"},"e2e")," configuration\nobject:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Option"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"experimentalStudio")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false")),(0,r.kt)("td",{parentName:"tr",align:null},"Generate and save commands directly to your test suite by interacting with your app as an end user would.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"experimentalRunAllSpecs")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false")),(0,r.kt)("td",{parentName:"tr",align:null},'Enables the "Run All Specs" UI feature, allowing the execution of multiple specs sequentially.')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"experimentalOriginDependencies")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false")),(0,r.kt)("td",{parentName:"tr",align:null},"Enables support for ",(0,r.kt)("inlineCode",{parentName:"td"},"require"),"/",(0,r.kt)("inlineCode",{parentName:"td"},"import")," within ",(0,r.kt)("inlineCode",{parentName:"td"},"cy.origin"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"experimentalSkipDomainInjection")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"null")),(0,r.kt)("td",{parentName:"tr",align:null},"Removes injecting ",(0,r.kt)("inlineCode",{parentName:"td"},"document.domain")," into ",(0,r.kt)("inlineCode",{parentName:"td"},"text/html")," pages for any sites that match the provided patterns.")))),(0,r.kt)("h4",{id:"Experimental-Skip-Domain-Injection"},"Experimental Skip Domain Injection"),(0,r.kt)("p",null,"Under the hood, Cypress\n",(0,r.kt)("a",{parentName:"p",href:"/guides/guides/web-security#Examples-of-what-Cypress-does-under-the-hood"},"injects document.domain"),"\ninto your test application to lessen the burden of navigation. This is well\ndescribed in our ",(0,r.kt)("a",{parentName:"p",href:"/guides/guides/cross-origin-testing"},"Cross Origin Testing"),"\nguide. However, some sites have compatibility issues with this feature."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"experimentalSkipDomainInjection")," option disables injecting\n",(0,r.kt)("inlineCode",{parentName:"p"},"document.domain")," inside Cypress. When enabled, all cross-origin/subdomain\nnavigation must use ",(0,r.kt)("inlineCode",{parentName:"p"},"cy.origin()"),", which may make tests a bit more verbose. We\nonly recommend including your site pattern if you are having issues running\nCypress out of the box and suspect setting ",(0,r.kt)("inlineCode",{parentName:"p"},"document.domain")," is interfering with\nyour site's ability to render properly."),(0,r.kt)("p",null,"Before enabling, verify your application is not implementing frame busting\ntechniques, which you can mitigate with the\n",(0,r.kt)("a",{parentName:"p",href:"/guides/references/configuration#modifyObstructiveCode"},(0,r.kt)("inlineCode",{parentName:"a"},"modifyObstructiveCode")),"\nand\n",(0,r.kt)("a",{parentName:"p",href:"/guides/guides/web-security#Modifying-Obstructive-Third-Party-Code"},(0,r.kt)("inlineCode",{parentName:"a"},"experimentalModifyObstructiveThirdPartyCode")),"\nflags."),(0,r.kt)("p",null,"At this point in time, we are aware of the following sites that require the\n",(0,r.kt)("inlineCode",{parentName:"p"},"experimentalSkipDomainInjection")," option to be set to be tested properly:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Google"),(0,r.kt)("li",{parentName:"ul"},"Salesforce")),(0,r.kt)("p",null,"This flag can be enabled by passing an array of origin URLs or\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/isaacs/minimatch"},"minimatch")," glob patterns:"),(0,r.kt)("cypress-config-example",null,(0,r.kt)(s,{mdxType:"CypressConfigFileTabs"},(0,r.kt)("pre",{parentName:"cypress-config-example"},(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const { defineConfig } = require('cypress')\n\nmodule.exports = defineConfig({\n  e2e: {\n    experimentalSkipDomainInjection: [\n      '*.salesforce.com',\n      '*.force.com',\n      '*.google.com',\n    ],\n  },\n})\n")),(0,r.kt)("pre",{parentName:"cypress-config-example"},(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"import { defineConfig } from 'cypress'\n\nexport default defineConfig({\n  e2e: {\n    experimentalSkipDomainInjection: [\n      '*.salesforce.com',\n      '*.force.com',\n      '*.google.com',\n    ],\n  },\n})\n")))),(0,r.kt)("p",null,"If using other Salesforce domains, such as\n",(0,r.kt)("a",{parentName:"p",href:"https://help.salesforce.com/s/articleView?id=sf.domain_name_enhanced.htm&type=5"},"enhanced domains"),",\nyou will need to add the correct matching glob pattern."),(0,r.kt)("h3",{id:"Component-Testing"},"Component Testing"),(0,r.kt)("p",null,"These experiments are available to be specified inside the ",(0,r.kt)("inlineCode",{parentName:"p"},"component"),"\nconfiguration object:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Option"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"experimentalSingleTabRunMode")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false")),(0,r.kt)("td",{parentName:"tr",align:null},"Run all specs in a single tab, instead of creating a new tab per spec. This can improve run mode performance, but can impact spec isolation and reliability on large test suites.")))),(0,r.kt)("h2",{id:"History"},"History"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Version"),(0,r.kt)("th",{parentName:"tr",align:null},"Changes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/guides/references/changelog#12-4-0"},"12.4.0")),(0,r.kt)("td",{parentName:"tr",align:null},"Added ",(0,r.kt)("inlineCode",{parentName:"td"},"experimentalSkipDomainInjection")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"experimentalMemoryManagement"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/guides/references/changelog#12-0-0"},"12.0.0")),(0,r.kt)("td",{parentName:"tr",align:null},"Removed ",(0,r.kt)("inlineCode",{parentName:"td"},"experimentalSessionAndOrigin")," and made it the default behavior. Added ",(0,r.kt)("inlineCode",{parentName:"td"},"experimentalOriginDependencies"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/guides/references/changelog#11-2-0"},"11.2.0")),(0,r.kt)("td",{parentName:"tr",align:null},"Added ",(0,r.kt)("inlineCode",{parentName:"td"},"experimentalRunAllSpecs"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/guides/references/changelog#10-8-0"},"10.8.0")),(0,r.kt)("td",{parentName:"tr",align:null},"Added ",(0,r.kt)("inlineCode",{parentName:"td"},"experimentalWebKitSupport"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/guides/references/changelog#10-6-0"},"10.6.0")),(0,r.kt)("td",{parentName:"tr",align:null},"Added support for ",(0,r.kt)("inlineCode",{parentName:"td"},"experimentalSingleTabRunMode"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/guides/references/changelog#10-4-0"},"10.4.0")),(0,r.kt)("td",{parentName:"tr",align:null},"Added support for ",(0,r.kt)("inlineCode",{parentName:"td"},"experimentalModifyObstructiveThirdPartyCode"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/guides/references/changelog#9-6-0"},"9.6.0")),(0,r.kt)("td",{parentName:"tr",align:null},"Added support for ",(0,r.kt)("inlineCode",{parentName:"td"},"experimentalSessionAndOrigin")," and removed ",(0,r.kt)("inlineCode",{parentName:"td"},"experimentalSessionSupport"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/guides/references/changelog#8-2-0"},"8.2.0")),(0,r.kt)("td",{parentName:"tr",align:null},"Added support for ",(0,r.kt)("inlineCode",{parentName:"td"},"experimentalSessionSupport"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/guides/references/changelog#7-1-0"},"7.1.0")),(0,r.kt)("td",{parentName:"tr",align:null},"Added support for ",(0,r.kt)("inlineCode",{parentName:"td"},"experimentalInteractiveRunEvents"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/guides/references/changelog#7-0-0"},"7.0.0")),(0,r.kt)("td",{parentName:"tr",align:null},"Removed ",(0,r.kt)("inlineCode",{parentName:"td"},"experimentalComponentTesting")," and made it the default behavior.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/guides/references/changelog#6-7-0"},"6.7.0")),(0,r.kt)("td",{parentName:"tr",align:null},"Removed ",(0,r.kt)("inlineCode",{parentName:"td"},"experimentalRunEvents")," and made it the default behavior.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/guides/references/changelog#6-3-0"},"6.3.0")),(0,r.kt)("td",{parentName:"tr",align:null},"Added support for ",(0,r.kt)("inlineCode",{parentName:"td"},"experimentalStudio"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/guides/references/changelog#6-2-0"},"6.2.0")),(0,r.kt)("td",{parentName:"tr",align:null},"Added support for ",(0,r.kt)("inlineCode",{parentName:"td"},"experimentalRunEvents"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/guides/references/changelog#6-0-0"},"6.0.0")),(0,r.kt)("td",{parentName:"tr",align:null},"Removed ",(0,r.kt)("inlineCode",{parentName:"td"},"experimentalNetworkStubbing")," and made it the default behavior when using ",(0,r.kt)("a",{parentName:"td",href:"/api/commands/intercept"},"cy.intercept()"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/guides/references/changelog#6-0-0"},"6.0.0")),(0,r.kt)("td",{parentName:"tr",align:null},"Deprecated ",(0,r.kt)("inlineCode",{parentName:"td"},"experimentalFetchPolyfill"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/guides/references/changelog#5-2-0"},"5.2.0")),(0,r.kt)("td",{parentName:"tr",align:null},"Removed ",(0,r.kt)("inlineCode",{parentName:"td"},"experimentalShadowDomSupport")," and made it the default behavior.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/guides/references/changelog#5-1-0"},"5.1.0")),(0,r.kt)("td",{parentName:"tr",align:null},"Added support for ",(0,r.kt)("inlineCode",{parentName:"td"},"experimentalNetworkStubbing"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/guides/references/changelog#5-0-0"},"5.0.0")),(0,r.kt)("td",{parentName:"tr",align:null},"Removed ",(0,r.kt)("inlineCode",{parentName:"td"},"experimentalGetCookiesSameSite")," and made it the default behavior.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/guides/references/changelog#4-9-0"},"4.9.0")),(0,r.kt)("td",{parentName:"tr",align:null},"Added support for ",(0,r.kt)("inlineCode",{parentName:"td"},"experimentalFetchPolyfill"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/guides/references/changelog#4-8-0"},"4.8.0")),(0,r.kt)("td",{parentName:"tr",align:null},"Added support for ",(0,r.kt)("inlineCode",{parentName:"td"},"experimentalShadowDomSupport"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/guides/references/changelog#4-6-0"},"4.6.0")),(0,r.kt)("td",{parentName:"tr",align:null},"Added support for ",(0,r.kt)("inlineCode",{parentName:"td"},"experimentalSourceRewriting"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/guides/references/changelog#4-5-0"},"4.5.0")),(0,r.kt)("td",{parentName:"tr",align:null},"Added support for ",(0,r.kt)("inlineCode",{parentName:"td"},"experimentalComponentTesting"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/guides/references/changelog#4-3-0"},"4.3.0")),(0,r.kt)("td",{parentName:"tr",align:null},"Added support for ",(0,r.kt)("inlineCode",{parentName:"td"},"experimentalGetCookiesSameSite"),".")))))}c.isMDXComponent=!0}}]);