"use strict";(self.webpackChunkcypress_docusaurus_ts=self.webpackChunkcypress_docusaurus_ts||[]).push([[4788],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>h});var a=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function r(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var l=a.createContext({}),c=function(e){var n=a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},p=function(e){var n=c(e.components);return a.createElement(l.Provider,{value:n},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,p=r(e,["components","mdxType","originalType","parentName"]),d=c(t),m=o,h=d["".concat(l,".").concat(m)]||d[m]||u[m]||i;return t?a.createElement(h,s(s({ref:n},p),{},{components:t})):a.createElement(h,s({ref:n},p))}));function h(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=t.length,s=new Array(i);s[0]=m;var r={};for(var l in n)hasOwnProperty.call(n,l)&&(r[l]=n[l]);r.originalType=e,r[d]="string"==typeof e?e:o,s[1]=r;for(var c=2;c<i;c++)s[c]=t[c];return a.createElement.apply(null,s)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},1836:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>c});var a=t(7462),o=(t(7294),t(3905));const i={title:"Social Authentication",slug:"/guides/end-to-end-testing/social-authentication"},s=void 0,r={unversionedId:"guides/end-to-end-testing/testing-strategies/social-authentication",id:"guides/end-to-end-testing/testing-strategies/social-authentication",title:"Social Authentication",description:"What you'll learn",source:"@site/docs/guides/end-to-end-testing/testing-strategies/social-authentication.mdx",sourceDirName:"guides/end-to-end-testing/testing-strategies",slug:"/guides/end-to-end-testing/social-authentication",permalink:"/guides/end-to-end-testing/social-authentication",draft:!1,editUrl:"https://github.com/cypress-io/cypress-documentation/tree/main/docs/guides/end-to-end-testing/testing-strategies/social-authentication.mdx",tags:[],version:"current",lastUpdatedAt:1717543563,formattedLastUpdatedAt:"Jun 4, 2024",frontMatter:{title:"Social Authentication",slug:"/guides/end-to-end-testing/social-authentication"},sidebar:"guides",previous:{title:"Okta Authentication",permalink:"/guides/end-to-end-testing/okta-authentication"},next:{title:"Working with GraphQL",permalink:"/guides/end-to-end-testing/working-with-graphql"}},l={},c=[{value:"Application Setup",id:"Application-Setup",level:2},{value:"Setting up the Auth0 tenant",id:"Setting-up-the-Auth0-tenant",level:3},{value:"Setting up the application",id:"Setting-up-the-application",level:3},{value:"Testing with Cypress",id:"Testing-with-Cypress",level:2},{value:"Setting Auth0 app credentials in Cypress",id:"Setting-Auth0-app-credentials-in-Cypress",level:2},{value:"Login with <code>cy.origin()</code>",id:"Login-with-cyorigin",level:3},{value:"See also",id:"See-also",level:2}],p=e=>function(n){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.kt)("div",n)},d=p("Icon"),u=p("DocsVideo"),m={toc:c};function h(e){let{components:n,...t}=e;return(0,o.kt)("wrapper",(0,a.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("h2",{parentName:"admonition",id:"What-youll-learn"},(0,o.kt)(d,{name:"graduation-cap",mdxType:"Icon"})," What you'll learn"),(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},"Log into your application via Google, Facebook, or Microsoft through the UI\nwith ",(0,o.kt)("a",{parentName:"li",href:"/api/commands/origin"},(0,o.kt)("inlineCode",{parentName:"a"},"cy.origin()"))," using Auth0 social connections. The\nsame patterns will work with Github, LinkedIn, and others."),(0,o.kt)("li",{parentName:"ul"},"Understanding ",(0,o.kt)("a",{parentName:"li",href:"/guides/references/best-practices#When-logging-in"},"challenges"),"\nwith social connections"))),(0,o.kt)("admonition",{type:"caution"},(0,o.kt)("strong",null,(0,o.kt)(d,{name:"exclamation-triangle",mdxType:"Icon"})," Not recommended in CI"),(0,o.kt)("p",{parentName:"admonition"},"Cypress does ",(0,o.kt)("strong",{parentName:"p"},"not")," recommend testing social connection authentication as a\nprimary means of application authentication testing. This is due to the\n",(0,o.kt)("a",{parentName:"p",href:"/guides/references/best-practices#Challenges-with-Social-Connection-Authentication"},"challenges"),"\nmentioned in our\n",(0,o.kt)("a",{parentName:"p",href:"/guides/references/best-practices#Potential-Challenges-Authenticating-with-Social-Platforms"},"Best Practices Guide"),"."),(0,o.kt)("p",{parentName:"admonition"},"Relying on social authentication in CI will likely result in bot detection and\nin some cases, account suspension due to violating the provider's Terms of\nService.")),(0,o.kt)("h2",{id:"Application-Setup"},"Application Setup"),(0,o.kt)("p",null,"For this guide, we are going to set up an application that uses Auth0 for Tenant\nwill have social connections set up for Google, Facebook, and Microsoft which\nwill authenticate users on our behalf to our application."),(0,o.kt)("h3",{id:"Setting-up-the-Auth0-tenant"},"Setting up the Auth0 tenant"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"To get started, first create your free ",(0,o.kt)("a",{parentName:"li",href:"https://auth0.com/signup"},"Auth0"),"\naccount and select the ",(0,o.kt)("inlineCode",{parentName:"li"},'"I am a new Auth0 User"')," flow. This will have 4 steps:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Step 1: When configuring your Sample App, please select the\n",(0,o.kt)("inlineCode",{parentName:"li"},"Single-Page App")," for you platform and",(0,o.kt)("inlineCode",{parentName:"li"},"React")," for the technology."),(0,o.kt)("li",{parentName:"ul"},"Step 2: For ",(0,o.kt)("inlineCode",{parentName:"li"},"Social Connections"),", please select Facebook, Microsoft, and\nGoogle"),(0,o.kt)("li",{parentName:"ul"},"Step 3: Click try login and verify the connections are set up properly"),(0,o.kt)("li",{parentName:"ul"},"Step 4: You can either download the sample on the ",(0,o.kt)("inlineCode",{parentName:"li"},"Download Sample App"),"\nbutton or clone it\n",(0,o.kt)("a",{parentName:"li",href:"https://github.com/auth0-samples/auth0-react-samples/tree/d5848ed710db85d6ef060731b296603c0eca744b/Sample-01"},"here"),".\nWe will need this application in the next step. Select\n",(0,o.kt)("inlineCode",{parentName:"li"},'"I am Ready to Use Auth0"'),". Your social connections on your Auth0 tenant\nshould now be configured correctly")))),(0,o.kt)("h3",{id:"Setting-up-the-application"},"Setting up the application"),(0,o.kt)("p",null,"On your Auth0 dashboard, visit the ",(0,o.kt)("inlineCode",{parentName:"p"},"Applications Dropdown")," in the left menu.\nSelect the dropdown and go to ",(0,o.kt)("inlineCode",{parentName:"p"},"Applications")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Select the ",(0,o.kt)("inlineCode",{parentName:"li"},"Default Application")),(0,o.kt)("li",{parentName:"ul"},"Visit the ",(0,o.kt)("inlineCode",{parentName:"li"},"Settings")," tab",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Copy the ",(0,o.kt)("inlineCode",{parentName:"li"},"domain")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"client ID")," fields inside ",(0,o.kt)("inlineCode",{parentName:"li"},"Basic Information"),". These\nwill be needed shortly."),(0,o.kt)("li",{parentName:"ul"},"The ",(0,o.kt)("inlineCode",{parentName:"li"},"Application Properties")," should have ",(0,o.kt)("inlineCode",{parentName:"li"},"Single Page Application")," selected\nfor ",(0,o.kt)("inlineCode",{parentName:"li"},"Application Type"),","),(0,o.kt)("li",{parentName:"ul"},"Inside ",(0,o.kt)("inlineCode",{parentName:"li"},"Application URIs"),", please add ",(0,o.kt)("inlineCode",{parentName:"li"},"http://localhost:3000")," to\n",(0,o.kt)("inlineCode",{parentName:"li"},"Allowed Callback URLs"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"Allowed Web Origins")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"Allowed Logout URLs")))),(0,o.kt)("li",{parentName:"ul"},"Create the ",(0,o.kt)("inlineCode",{parentName:"li"},"src/auth_config.json")," file from the\n",(0,o.kt)("a",{parentName:"li",href:"https://github.com/auth0-samples/auth0-react-samples/blob/d5848ed710db85d6ef060731b296603c0eca744b/Sample-01/src/auth_config.json.example"},(0,o.kt)("inlineCode",{parentName:"a"},"src/auth_config.json.example")),"\nfile as described in the\n",(0,o.kt)("a",{parentName:"li",href:"https://github.com/auth0-samples/auth0-react-samples/tree/d5848ed710db85d6ef060731b296603c0eca744b/Sample-01#create-an-api"},"sample app"),"."),(0,o.kt)("li",{parentName:"ul"},"Once created, paste the ",(0,o.kt)("inlineCode",{parentName:"li"},"domain")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"client ID")," into their respective fields\ninside ",(0,o.kt)("inlineCode",{parentName:"li"},"src/auth_config.json"),". The ",(0,o.kt)("inlineCode",{parentName:"li"},"audience")," key can be removed. The\nlogin/callback URIs will default to ",(0,o.kt)("inlineCode",{parentName:"li"},"http://localhost:3000")," which is the url\nof our test application."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/auth0-samples/auth0-react-samples/tree/d5848ed710db85d6ef060731b296603c0eca744b/Sample-01#project-setup"},"install"),"\nthe application dependencies and\n",(0,o.kt)("a",{parentName:"li",href:"https://github.com/auth0-samples/auth0-react-samples/tree/d5848ed710db85d6ef060731b296603c0eca744b/Sample-01#compile-and-hot-reload-for-development"},"start the dev server")),(0,o.kt)("li",{parentName:"ul"},"Verify the application is running correctly by visiting\n",(0,o.kt)("inlineCode",{parentName:"li"},"http://localhost:3000")," and clicking the blue ",(0,o.kt)("inlineCode",{parentName:"li"},"Log in")," button in the top right\ncorner. Select one of our social connections and log in and make sure to\ncomplete the ",(0,o.kt)("inlineCode",{parentName:"li"},"Authorize App")," prompt. This only needs to be done once. This\nshould take you back to the sample app authenticated as the test user. When\nfinished, click the ",(0,o.kt)("inlineCode",{parentName:"li"},"Log Out")," dropdown button. Repeat for Google, Microsoft,\nand Facebook or the accounts you would like to test.")),(0,o.kt)("p",null,"Here is what this process should look like for Facebook setup:"),(0,o.kt)(u,{src:"https://vimeo.com/789093604",mdxType:"DocsVideo"}),(0,o.kt)("h2",{id:"Testing-with-Cypress"},"Testing with Cypress"),(0,o.kt)("p",null,"Now that our application is set up and ready to go, we are ready to write our\nautomated tests. For these social connections, the\n",(0,o.kt)("a",{parentName:"p",href:"/guides/guides/web-security#Modifying-Obstructive-Third-Party-Code"},(0,o.kt)("inlineCode",{parentName:"a"},"experimentalModifyObstructiveThirdPartyCode")),"\nconfiguration option must be enabled."),(0,o.kt)("h2",{id:"Setting-Auth0-app-credentials-in-Cypress"},"Setting Auth0 app credentials in Cypress"),(0,o.kt)("p",null,"To have access to test user credentials within our tests we need to configure\nCypress to use the social username, password, and name environment variables set\nin the ",(0,o.kt)("inlineCode",{parentName:"p"},"cypress.env.json")," file or by one of our\n",(0,o.kt)("a",{parentName:"p",href:"/guides/guides/environment-variables#Setting"},"supported methods"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'// cypress.env.json\n\n{\n  "GOOGLE_USERNAME": "",\n  "GOOGLE_PASSWORD": "",\n  "GOOGLE_NAME": "",\n  "MICROSOFT_USERNAME": "",\n  "MICROSOFT_PASSWORD": "",\n  "MICROSOFT_NAME": "",\n  "FACEBOOK_USERNAME": "",\n  "FACEBOOK_PASSWORD": "",\n  "FACEBOOK_NAME": ""\n}\n')),(0,o.kt)("h3",{id:"Login-with-cyorigin"},"Login with ",(0,o.kt)("a",{parentName:"h3",href:"/api/commands/origin"},(0,o.kt)("inlineCode",{parentName:"a"},"cy.origin()"))),(0,o.kt)("p",null,"Next, we'll write a custom command called ",(0,o.kt)("inlineCode",{parentName:"p"},"loginToAuth0ViaSocial")," to perform a\nlogin to either Facebook, Google, or Microsoft. This command will use\n",(0,o.kt)("a",{parentName:"p",href:"/api/commands/origin"},(0,o.kt)("inlineCode",{parentName:"a"},"cy.origin()"))," to:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Navigate to the Auth0 login"),(0,o.kt)("li",{parentName:"ol"},"Select the ",(0,o.kt)("inlineCode",{parentName:"li"},"Continue with ...")," button and sign in with social credentials"),(0,o.kt)("li",{parentName:"ol"},"Sign in and redirect back to the\n",(0,o.kt)("a",{parentName:"li",href:"https://github.com/auth0-samples/auth0-react-samples/tree/d5848ed710db85d6ef060731b296603c0eca744b/Sample-01"},"sample app")),(0,o.kt)("li",{parentName:"ol"},"Cache the results with ",(0,o.kt)("a",{parentName:"li",href:"/api/commands/session"},(0,o.kt)("inlineCode",{parentName:"a"},"cy.session()")))),(0,o.kt)("p",null,"For demonstration, we will have a function for each provider."),(0,o.kt)("p",null,"The Facebook Login Function"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// cypress/support/commands.ts\nimport { domain as Auth0Domain } from '../../src/auth_config.json'\n\nfunction logIntoFacebook(username: string, password: string, name: string) {\n  cy.visit('http://localhost:3000')\n  cy.get('#qsLoginBtn').click()\n\n  cy.origin(Auth0Domain, () => {\n    cy.scrollTo('bottom')\n    cy.get('form[data-provider=\"facebook\"]').submit()\n  })\n\n  cy.origin(\n    'https://www.facebook.com',\n    {\n      args: {\n        username,\n        password,\n      },\n    },\n    ({ username, password }) => {\n      cy.get('input#email').type(username)\n      cy.get('input#pass').type(password, {\n        log: false,\n      })\n      cy.get('[type=\"submit\"]').contains('Log In').click()\n    }\n  )\n\n  cy.get('h6.dropdown-header').should('contain', name)\n}\n")),(0,o.kt)("p",null,"The Google Login Function"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// cypress/support/commands.ts\nimport { domain as Auth0Domain } from '../../src/auth_config.json'\n\nfunction logIntoGoogle(username: string, password: string, name: string) {\n  Cypress.on(\n    'uncaught:exception',\n    (err) =>\n      !err.message.includes('ResizeObserver loop') &&\n      !err.message.includes('Error in protected function')\n  )\n  cy.visit('http://localhost:3000')\n  cy.get('#qsLoginBtn').click()\n\n  cy.origin(Auth0Domain, () => {\n    cy.scrollTo('bottom')\n    cy.get('form[data-provider=\"google\"]').submit()\n  })\n\n  cy.origin(\n    'https://accounts.google.com',\n    {\n      args: {\n        username,\n        password,\n      },\n    },\n    ({ username, password }) => {\n      Cypress.on(\n        'uncaught:exception',\n        (err) =>\n          !err.message.includes('ResizeObserver loop') &&\n          !err.message.includes('Error in protected function')\n      )\n\n      cy.get('input[type=\"email\"]').type(username, {\n        log: false,\n      })\n      // NOTE: The element exists on the original form but is hidden and gets rerendered, which leads to intermittent detached DOM issues\n      cy.contains('Next').click().wait(4000)\n      cy.get('[type=\"password\"]').type(password, {\n        log: false,\n      })\n      cy.contains('Next').click().wait(4000)\n    }\n  )\n\n  cy.get('h6.dropdown-header').should('contain', name)\n}\n")),(0,o.kt)("p",null,"And lastly, our Microsoft Login Function"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// cypress/support/commands.ts\nimport { domain as Auth0Domain } from '../../src/auth_config.json'\n\nfunction logIntoMicrosoft(username: string, password: string, name: string) {\n  cy.visit('http://localhost:3000')\n  cy.get('#qsLoginBtn').click()\n\n  cy.origin(Auth0Domain, () => {\n    cy.scrollTo('bottom')\n    cy.get('form[data-provider=\"windowslive\"]').submit()\n  })\n\n  cy.origin(\n    'login.live.com',\n    {\n      args: {\n        username,\n        password,\n      },\n    },\n    ({ username, password }) => {\n      cy.get('input[type=\"email\"]').type(username)\n      cy.get('input[type=\"submit\"]').click()\n      cy.get('input[type=\"password\"]').type(password, {\n        log: false,\n      })\n      cy.get('input[type=\"submit\"]').click()\n      cy.get('#idBtn_Back').click()\n    }\n  )\n\n  cy.get('h6.dropdown-header').should('contain', name)\n}\n")),(0,o.kt)("p",null,"We can wire these functions together in a single command, like so:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// cypress/support/commands.ts\n\nCypress.Commands.add(\n  'loginToAuth0ViaSocial',\n  (SOCIAL_PROVIDER: 'microsoft' | 'google' | 'facebook') => {\n    const log = Cypress.log({\n      displayName: 'Social LOGIN',\n      message: [`\ud83d\udd10 Authenticating | ${SOCIAL_PROVIDER}`],\n      // @ts-ignore\n      autoEnd: false,\n    })\n    log.snapshot('before')\n\n    switch (SOCIAL_PROVIDER) {\n      case 'microsoft':\n        logIntoMicrosoft(\n          Cypress.env('MICROSOFT_USERNAME'),\n          Cypress.env('MICROSOFT_PASSWORD'),\n          Cypress.env('MICROSOFT_NAME')\n        )\n        break\n      case 'google':\n        logIntoGoogle(\n          Cypress.env('GOOGLE_USERNAME'),\n          Cypress.env('GOOGLE_PASSWORD'),\n          Cypress.env('GOOGLE_NAME')\n        )\n        break\n      case 'facebook':\n        logIntoFacebook(\n          Cypress.env('FACEBOOK_USERNAME'),\n          Cypress.env('FACEBOOK_PASSWORD'),\n          Cypress.env('FACEBOOK_NAME')\n        )\n        break\n      default:\n        throw new Error('no social provider configured!')\n    }\n\n    log.snapshot('after')\n    log.end()\n  }\n)\n")),(0,o.kt)("p",null,"Now, we can use our ",(0,o.kt)("inlineCode",{parentName:"p"},"loginToAuth0ViaSocial")," command in the test. Below is our\ntest to login as a user via Auth0 and run a basic check."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"describe('Social Logins Demo', () => {\n  beforeEach(() => {\n    // can provide Facebook, Google, or Microsoft here\n    cy.loginToAuth0ViaSocial('facebook')\n    cy.visit('http://localhost:3000/')\n  })\n\n  it('navigates to the app after navigation and displays the sample project header', () => {\n    cy.get('h1').should('contain', 'React.js Sample Project')\n  })\n})\n")),(0,o.kt)("p",null,"Here is a sample of what all 3 should look like in order."),(0,o.kt)(u,{src:"https://vimeo.com/789093473",mdxType:"DocsVideo"}),(0,o.kt)("p",null,"Lastly, we can refactor our login command to take advantage of\n",(0,o.kt)("a",{parentName:"p",href:"/api/commands/session"},(0,o.kt)("inlineCode",{parentName:"a"},"cy.session()"))," to store our logged in user so we don't\nhave to reauthenticate before every test. This also largely cuts down on the\nlikelihood your account is blocked for frequent authentication attempts. Feel\nfree to DRY this up a bit!"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"Cypress.Commands.add(\n  'loginToAuth0ViaSocial',\n  (SOCIAL_PROVIDER: 'microsoft' | 'google' | 'facebook') => {\n    const log = Cypress.log({\n      displayName: 'Social LOGIN',\n      message: [`\ud83d\udd10 Authenticating | ${SOCIAL_PROVIDER}`],\n      // @ts-ignore\n      autoEnd: false,\n    })\n    log.snapshot('before')\n\n    cy.session(\n      `social-${SOCIAL_PROVIDER}`,\n      () => {\n        switch (SOCIAL_PROVIDER) {\n          case 'microsoft':\n            logIntoMicrosoft(\n              Cypress.env('MICROSOFT_USERNAME'),\n              Cypress.env('MICROSOFT_PASSWORD'),\n              Cypress.env('MICROSOFT_NAME')\n            )\n            break\n          case 'google':\n            logIntoGoogle(\n              Cypress.env('GOOGLE_USERNAME'),\n              Cypress.env('GOOGLE_PASSWORD'),\n              Cypress.env('GOOGLE_NAME')\n            )\n            break\n          case 'facebook':\n            logIntoFacebook(\n              Cypress.env('FACEBOOK_USERNAME'),\n              Cypress.env('FACEBOOK_PASSWORD'),\n              Cypress.env('FACEBOOK_NAME')\n            )\n            break\n          default:\n            throw new Error('no social provider configured!')\n        }\n      },\n      {\n        validate: () => {\n          cy.visit('http://localhost:3000')\n          switch (SOCIAL_PROVIDER) {\n            case 'microsoft':\n              cy.get('h6.dropdown-header').should(\n                'contain',\n                Cypress.env('MICROSOFT_NAME')\n              )\n              break\n            case 'google':\n              cy.get('h6.dropdown-header').should(\n                'contain',\n                Cypress.env('GOOGLE_NAME')\n              )\n              break\n            case 'facebook':\n              cy.get('h6.dropdown-header').should(\n                'contain',\n                Cypress.env('FACEBOOK_NAME')\n              )\n              break\n            default:\n              throw new Error('no social provider configured!')\n          }\n        },\n      }\n    )\n\n    log.snapshot('after')\n    log.end()\n  }\n)\n")),(0,o.kt)(u,{src:"https://vimeo.com/789093516",mdxType:"DocsVideo"}),(0,o.kt)("p",null,"With the use of ",(0,o.kt)("a",{parentName:"p",href:"/api/commands/session"},(0,o.kt)("inlineCode",{parentName:"a"},"cy.session()")),", our tests should now\nrun quicker!"),(0,o.kt)("p",null,"We hope this guide was able to get you up and running with\n",(0,o.kt)("a",{parentName:"p",href:"/api/commands/origin"},(0,o.kt)("inlineCode",{parentName:"a"},"cy.origin()"))," and\n",(0,o.kt)("a",{parentName:"p",href:"/api/commands/session"},(0,o.kt)("inlineCode",{parentName:"a"},"cy.session()")),". If you ran into any issues while\nfollowing this guide, or have any feedback, please let us know and submit a\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/cypress-io/cypress-documentation/issues/new/choose"},"Github issue"),".\nHappy testing!"),(0,o.kt)("h2",{id:"See-also"},"See also"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/guides/guides/cross-origin-testing"},"Cross Origin Testing Guide")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/guides/end-to-end-testing/amazon-cognito-authentication"},"AWS Cognito Authentication Guide")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/guides/end-to-end-testing/azure-active-directory-authentication"},"Azure Active Directory Authentication Guide")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/api/commands/origin"},(0,o.kt)("inlineCode",{parentName:"a"},"cy.origin()"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/api/commands/session"},(0,o.kt)("inlineCode",{parentName:"a"},"cy.session()")))))}h.isMDXComponent=!0}}]);