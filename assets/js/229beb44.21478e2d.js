"use strict";(self.webpackChunkcypress_docusaurus_ts=self.webpackChunkcypress_docusaurus_ts||[]).push([[5287],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>g});var o=n(7294);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,o,s=function(e,t){if(null==e)return{};var n,o,s={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var p=o.createContext({}),l=function(e){var t=o.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},c=function(e){var t=l(e.components);return o.createElement(p.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,s=e.mdxType,i=e.originalType,p=e.parentName,c=a(e,["components","mdxType","originalType","parentName"]),u=l(n),d=s,g=u["".concat(p,".").concat(d)]||u[d]||m[d]||i;return n?o.createElement(g,r(r({ref:t},c),{},{components:n})):o.createElement(g,r({ref:t},c))}));function g(e,t){var n=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var i=n.length,r=new Array(i);r[0]=d;var a={};for(var p in t)hasOwnProperty.call(t,p)&&(a[p]=t[p]);a.originalType=e,a[u]="string"==typeof e?e:s,r[1]=a;for(var l=2;l<i;l++)r[l]=n[l];return o.createElement.apply(null,r)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},6866:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>r,default:()=>u,frontMatter:()=>i,metadata:()=>a,toc:()=>l});var o=n(7462),s=(n(7294),n(3905));const i={title:"Component Testing FAQ",sidebar_position:40,sidebar_label:"FAQ"},r=void 0,a={unversionedId:"guides/component-testing/faq",id:"guides/component-testing/faq",title:"Component Testing FAQ",description:"General Questions",source:"@site/docs/guides/component-testing/faq.mdx",sourceDirName:"guides/component-testing",slug:"/guides/component-testing/faq",permalink:"/cypress-documentation/guides/component-testing/faq",draft:!1,editUrl:"https://github.com/cypress-io/cypress-documentation/tree/main/docs/guides/component-testing/faq.mdx",tags:[],version:"current",lastUpdatedAt:1698215491,formattedLastUpdatedAt:"Oct 25, 2023",sidebarPosition:40,frontMatter:{title:"Component Testing FAQ",sidebar_position:40,sidebar_label:"FAQ"},sidebar:"guides",previous:{title:"Configuration",permalink:"/cypress-documentation/guides/component-testing/component-framework-configuration"},next:{title:"React Overview",permalink:"/cypress-documentation/guides/component-testing/react/overview"}},p={},l=[{value:"General Questions",id:"General-Questions",level:2},{value:"What is component testing?",id:"What-is-component-testing",level:3},{value:"What frameworks does component testing support?",id:"What-frameworks-does-component-testing-support",level:3},{value:"How does Cypress do component testing?",id:"How-does-Cypress-do-component-testing",level:3},{value:"When should I use component testing vs end-to-end testing?",id:"When-should-I-use-component-testing-vs-end-to-end-testing",level:3},{value:"How does Cypress component testing compare to other options?",id:"How-does-Cypress-component-testing-compare-to-other-options",level:3},{value:"Technical Questions",id:"Technical-Questions",level:2},{value:"What is the Mount Function?",id:"What-is-the-Mount-Function",level:3},{value:"Why isn&#39;t my component rendering as it should?",id:"Why-isnt-my-component-rendering-as-it-should",level:3},{value:"Why doesn&#39;t my spec show in the Specs page?",id:"Why-doesnt-my-spec-show-in-the-Specs-page",level:3},{value:"How do I fix ESLint errors for things like using the global Cypress objects?",id:"How-do-I-fix-ESLint-errors-for-things-like-using-the-global-Cypress-objects",level:3},{value:"Why isn&#39;t TypeScript recognizing the global Cypress objects or custom cypress commands (eg: <code>cy.mount</code>)?",id:"Why-isnt-TypeScript-recognizing-the-global-Cypress-objects-or-custom-cypress-commands-eg-cymount",level:3},{value:"How do I get TypeScript to recognize Cypress types and not Jest types?",id:"How-do-I-get-TypeScript-to-recognize-Cypress-types-and-not-Jest-types",level:3}],c={toc:l};function u(e){let{components:t,...n}=e;return(0,s.kt)("wrapper",(0,o.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h2",{id:"General-Questions"},"General Questions"),(0,s.kt)("h3",{id:"What-is-component-testing"},"What is component testing?"),(0,s.kt)("p",null,"Many modern front-end UI libraries encourage writing applications using small,\nreusable building blocks known as components. Components start small (think\nbuttons, images, inputs, etc.) and can be composed into larger components (order\nforms, date pickers, menus, etc.) and even entire pages."),(0,s.kt)("p",null,"Component testing is about testing an individual component in isolation from the\nrest of the app. This allows only having to worry about the component's\nfunctionality and not how it fits into an entire page."),(0,s.kt)("h3",{id:"What-frameworks-does-component-testing-support"},"What frameworks does component testing support?"),(0,s.kt)("p",null,"We support ",(0,s.kt)("a",{parentName:"p",href:"/guides/component-testing/angular/overview"},"Angular"),",\n",(0,s.kt)("a",{parentName:"p",href:"/guides/component-testing/react/overview"},"React"),",\n",(0,s.kt)("a",{parentName:"p",href:"/guides/component-testing/svelte/overview"},"Svelte"),", and\n",(0,s.kt)("a",{parentName:"p",href:"/guides/component-testing/vue/overview"},"Vue")," currently for component testing."),(0,s.kt)("p",null,"We also support several meta-frameworks like Next.js, Create React App, and\nNuxt, as well as Webpack and Vite for bundling. Check each framework's overview\nguide for more info."),(0,s.kt)("h3",{id:"How-does-Cypress-do-component-testing"},"How does Cypress do component testing?"),(0,s.kt)("p",null,"Cypress will take a component and mount it into a blank canvas. When doing so,\nyou have direct access to the component's API, making it easier to pass in props\nor data and put a component in a certain state. From there, you can use the same\nCypress commands, selectors, and assertions to write your tests."),(0,s.kt)("p",null,"Cypress supports multiple frameworks and development servers for component\ntesting."),(0,s.kt)("h3",{id:"When-should-I-use-component-testing-vs-end-to-end-testing"},"When should I use component testing vs end-to-end testing?"),(0,s.kt)("p",null,'The biggest difference between end-to-end testing and component testing is that\nan end-to-end test "visits" an entire page, and a component test "mounts"\nindividual components. You set up a component test by passing any\ndata/props/events to the component directly versus trying to manipulate a page\nUI. Because of this, component tests are typically easier to write, have less\nsetup, and execute faster.'),(0,s.kt)("p",null,"Use component testing during development to help build out a component's\nfunctionality in a test-driven manner. Feel free to write many tests and cover\nall the edge cases."),(0,s.kt)("p",null,"Use end-to-end testing to validate user journey's through your application as a\nwhole. Don't repeat the same tests in the component tests; instead, focus on how\nan actual user will use the application."),(0,s.kt)("h3",{id:"How-does-Cypress-component-testing-compare-to-other-options"},"How does Cypress component testing compare to other options?"),(0,s.kt)("p",null,"When Cypress mounts a component, it does so in an actual browser and not a\nsimulated environment like jsdom. This allows you to visually see and interact\nwith the component as you work on it. You can use the same browser-based\ndeveloper tools that you are used to when building web applications, such as\nelement inspectors, modifying CSS, and source debugging."),(0,s.kt)("p",null,"Cypress Component Testing is built around the same tools and APIs that\nend-to-end testing uses. Anyone familiar with Cypress can immediately hop in and\nfeel productive writing component tests without a large learning curve.\nComponent tests can also use the vast Cypress ecosystem, plugins, and services\n(like ",(0,s.kt)("a",{parentName:"p",href:"https://www.cypress.io/cloud"},"Cypress Cloud")," already available to\ncomplement your component tests."),(0,s.kt)("h2",{id:"Technical-Questions"},"Technical Questions"),(0,s.kt)("h3",{id:"What-is-the-Mount-Function"},"What is the Mount Function?"),(0,s.kt)("p",null,"We ship a ",(0,s.kt)("inlineCode",{parentName:"p"},"mount")," function for each UI library that is imported from the\n",(0,s.kt)("inlineCode",{parentName:"p"},"cypress")," package. It is responsible for rendering components within Cypress's\nsandboxed iframe and handling any framework-specific cleanup."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js"},"// example showing importing mount command in react\nimport { mount } from 'cypress/react'\n")),(0,s.kt)("p",null,"While you can use the ",(0,s.kt)("inlineCode",{parentName:"p"},"mount")," function in your tests, we recommend using\n",(0,s.kt)("a",{parentName:"p",href:"/api/commands/mount"},(0,s.kt)("inlineCode",{parentName:"a"},"cy.mount()")),", which is added as a\n",(0,s.kt)("a",{parentName:"p",href:"/api/cypress-api/custom-commands"},"custom command")," in the\n",(0,s.kt)("strong",{parentName:"p"},"cypress/support/component.js")," file:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title=cypress/support/component.js",title:"cypress/support/component.js"},"import { mount } from 'cypress/react'\n\nCypress.Commands.add('mount', mount)\n")),(0,s.kt)("p",null,"This allows you to use ",(0,s.kt)("inlineCode",{parentName:"p"},"cy.mount()")," in any component test without having to\nimport the framework-specific mount command, as well as customizing it to fit\nyour needs. See the examples guide for each framework for info on creating a\ncustom ",(0,s.kt)("inlineCode",{parentName:"p"},"cy.mount()")," command."),(0,s.kt)("h3",{id:"Why-isnt-my-component-rendering-as-it-should"},"Why isn't my component rendering as it should?"),(0,s.kt)("p",null,"Any global styles and fonts must be imported and made available to your\ncomponent, just like in the application. See our guide on\n",(0,s.kt)("a",{parentName:"p",href:"/guides/component-testing/styling-components"},"Styling Components")," for more\ninformation on doing so."),(0,s.kt)("h3",{id:"Why-doesnt-my-spec-show-in-the-Specs-page"},"Why doesn't my spec show in the Specs page?"),(0,s.kt)("p",null,"If something appears missing from the spec list, make sure the files have the\n",(0,s.kt)("a",{parentName:"p",href:"/guides/component-testing/component-framework-configuration#Spec-Pattern-for-Component-Tests"},"proper extension and the ",(0,s.kt)("inlineCode",{parentName:"a"},"specPattern")," is correctly defined"),"."),(0,s.kt)("h3",{id:"How-do-I-fix-ESLint-errors-for-things-like-using-the-global-Cypress-objects"},"How do I fix ESLint errors for things like using the global Cypress objects?"),(0,s.kt)("p",null,"If you experience ESLint errors in your code editor around Cypress globals,\ninstall the\n",(0,s.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/eslint-plugin-cypress"},(0,s.kt)("inlineCode",{parentName:"a"},"eslint-plugin-cypress")),"\nESLint plugin."),(0,s.kt)("h3",{id:"Why-isnt-TypeScript-recognizing-the-global-Cypress-objects-or-custom-cypress-commands-eg-cymount"},"Why isn't TypeScript recognizing the global Cypress objects or custom cypress commands (eg: ",(0,s.kt)("inlineCode",{parentName:"h3"},"cy.mount"),")?"),(0,s.kt)("p",null,"In some instances, TypeScript might not recognize the custom ",(0,s.kt)("inlineCode",{parentName:"p"},"cy.mount()"),"\ncommand in Cypress spec files not located in the ",(0,s.kt)("strong",{parentName:"p"},"cypress")," directory. You will\nget a compiler error specifying that the type is not found in this case."),(0,s.kt)("p",null,"A quick way to fix this is to include the ",(0,s.kt)("strong",{parentName:"p"},"cypress")," directory in your\n",(0,s.kt)("strong",{parentName:"p"},"tsconfig.json")," options like so:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-json"},'"include": [\n  "src",\n  "cypress"\n]\n')),(0,s.kt)("p",null,"TypeScript will monitor all files in the ",(0,s.kt)("strong",{parentName:"p"},"cypress")," folder and pick up the\ntypings defined in the ",(0,s.kt)("strong",{parentName:"p"},"cypress/support/component.ts")," file."),(0,s.kt)("p",null,"Alternatively, you can move your typings to an external file and include that\nfile in your ",(0,s.kt)("strong",{parentName:"p"},"tsconfig.json")," file. See our\n",(0,s.kt)("a",{parentName:"p",href:"/guides/tooling/typescript-support#Using-an-External-Typings-File"},"TypeScript Configuration"),"\nguide for more info on doing this."),(0,s.kt)("h3",{id:"How-do-I-get-TypeScript-to-recognize-Cypress-types-and-not-Jest-types"},"How do I get TypeScript to recognize Cypress types and not Jest types?"),(0,s.kt)("p",null,"For frameworks that include Jest out of the box (like Create React App), you\nmight run into issues where the Cypress global types for TypeScript conflict\nwith Jest global types (",(0,s.kt)("inlineCode",{parentName:"p"},"describe"),", ",(0,s.kt)("inlineCode",{parentName:"p"},"test"),", ",(0,s.kt)("inlineCode",{parentName:"p"},"it"),", etc..). In this case, other\nCypress globals like ",(0,s.kt)("inlineCode",{parentName:"p"},"Cypress")," and ",(0,s.kt)("inlineCode",{parentName:"p"},"cy")," might not be working properly either."),(0,s.kt)("p",null,"We are currently investigating better ways to handle this, but for the time\nbeing, we recommend using a\n",(0,s.kt)("a",{parentName:"p",href:"https://www.typescriptlang.org/docs/handbook/triple-slash-directives.html#-reference-types-"},"triple slash references directive"),"\nto instruct the TypeScript compiler to look at the Cypress global types in each\nof your affected spec files:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},'/// <reference types="cypress" />\n')),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Alternatively, Relocate Component Specs")),(0,s.kt)("p",null,"You can also group your Cypress and Jest tests inside separate folders (not\nco-located with components)."),(0,s.kt)("p",null,"You will need to add a ",(0,s.kt)("inlineCode",{parentName:"p"},"tsconfig.json")," to the folder and specify the types the\nfiles inside that folder should use."),(0,s.kt)("p",null,"Don't forget to update your\n",(0,s.kt)("a",{parentName:"p",href:"https://docs.cypress.io/guides/references/configuration#component"},(0,s.kt)("inlineCode",{parentName:"a"},"specPattern")),"\nto include the new file location."))}u.isMDXComponent=!0}}]);