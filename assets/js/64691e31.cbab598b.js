"use strict";(self.webpackChunkcypress_docusaurus_ts=self.webpackChunkcypress_docusaurus_ts||[]).push([[1495],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var i=r.createContext({}),p=function(e){var t=r.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(i.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,s=e.originalType,i=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=p(n),m=a,h=d["".concat(i,".").concat(m)]||d[m]||u[m]||s;return n?r.createElement(h,o(o({ref:t},c),{},{components:n})):r.createElement(h,o({ref:t},c))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var s=n.length,o=new Array(s);o[0]=m;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l[d]="string"==typeof e?e:a,o[1]=l;for(var p=2;p<s;p++)o[p]=n[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},6690:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>o,default:()=>m,frontMatter:()=>s,metadata:()=>l,toc:()=>p});var r=n(7462),a=(n(7294),n(3905));const s={title:"Troubleshooting"},o=void 0,l={unversionedId:"guides/references/troubleshooting",id:"guides/references/troubleshooting",title:"Troubleshooting",description:"There are times when you will encounter errors or unexpected behavior with",source:"@site/docs/guides/references/troubleshooting.mdx",sourceDirName:"guides/references",slug:"/guides/references/troubleshooting",permalink:"/guides/references/troubleshooting",draft:!1,editUrl:"https://github.com/cypress-io/cypress-documentation/tree/main/docs/guides/references/troubleshooting.mdx",tags:[],version:"current",lastUpdatedAt:1717543563,formattedLastUpdatedAt:"Jun 4, 2024",frontMatter:{title:"Troubleshooting"},sidebar:"guides",previous:{title:"Trade-offs",permalink:"/guides/references/trade-offs"}},i={},p=[{value:"Update Cypress",id:"Update-Cypress",level:2},{value:"Support channels",id:"Support-channels",level:2},{value:"Common GitHub issues",id:"Common-GitHub-issues",level:3},{value:"Isolate the Problem",id:"Isolate-the-Problem",level:2},{value:"Download specific Chrome version",id:"Download-specific-Chrome-version",level:2},{value:"Clear Cypress cache",id:"Clear-Cypress-cache",level:2},{value:"Launching browsers",id:"Launching-browsers",level:2},{value:"Mac",id:"Mac",level:3},{value:"Linux",id:"Linux",level:3},{value:"Windows",id:"Windows",level:3},{value:"Allow the Cypress Chrome extension",id:"Allow-the-Cypress-Chrome-extension",level:2},{value:"Allow Cypress URLs on VPNs",id:"Allow-Cypress-URLs-on-VPNs",level:2},{value:"Clear App Data",id:"Clear-App-Data",level:2},{value:"To clear App Data",id:"To-clear-App-Data",level:3},{value:"Print DEBUG logs",id:"Print-DEBUG-logs",level:2},{value:"Detailed Logs",id:"Detailed-Logs",level:3},{value:"Log sources",id:"Log-sources",level:3},{value:"Debug log depth",id:"Debug-log-depth",level:4},{value:"3rd party modules",id:"3rd-party-modules",level:4},{value:"Debug logs in the browser",id:"Debug-logs-in-the-browser",level:3},{value:"Log memory and CPU usage",id:"Log-memory-and-CPU-usage",level:2},{value:"Disable the Command Log",id:"Disable-the-Command-Log",level:2},{value:"Additional information",id:"Additional-information",level:2},{value:"Write command log to the terminal",id:"Write-command-log-to-the-terminal",level:3},{value:"Hacking on Cypress",id:"Hacking-on-Cypress",level:2},{value:"Contribute",id:"Contribute",level:3},{value:"Run Cypress by itself",id:"Run-Cypress-by-itself",level:3},{value:"Patch Cypress",id:"Patch-Cypress",level:3}],c=(d="DocsImage",function(e){return console.warn("Component "+d+" was not imported, exported, or provided by MDXProvider as global scope"),(0,a.kt)("div",e)});var d;const u={toc:p};function m(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"There are times when you will encounter errors or unexpected behavior with\nCypress itself. This guide recommends some resources and steps to take to\ntroubleshoot those problems."),(0,a.kt)("h2",{id:"Update-Cypress"},"Update Cypress"),(0,a.kt)("p",null,"We always recommend using the latest version of Cypress. If you're not using the\nlatest version, upgrade to the latest version. Your issue may already be\nresolved."),(0,a.kt)("h2",{id:"Support-channels"},"Support channels"),(0,a.kt)("p",null,"Check these support resources:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Connect with our community in ",(0,a.kt)("a",{parentName:"li",href:"https://on.cypress.io/discord"},"Discord")),(0,a.kt)("li",{parentName:"ul"},"Search existing ",(0,a.kt)("a",{parentName:"li",href:"https://github.com/cypress-io/cypress/issues"},"GitHub issues")),(0,a.kt)("li",{parentName:"ul"},"Search this documentation (search is in the top right) \ud83d\ude09"),(0,a.kt)("li",{parentName:"ul"},"Search ",(0,a.kt)("a",{parentName:"li",href:"https://stackoverflow.com/questions/tagged/cypress"},"Stack Overflow"),"\nfor relevant answers"),(0,a.kt)("li",{parentName:"ul"},"If your organization signs up for one of our\n",(0,a.kt)("a",{parentName:"li",href:"https://www.cypress.io/pricing/"},"paid plans"),", you can get dedicated email\nsupport, which gives you one-on-one help from our team."),(0,a.kt)("li",{parentName:"ul"},"If you still haven't found a solution,\n",(0,a.kt)("a",{parentName:"li",href:"https://github.com/cypress-io/cypress/issues/new/choose"},"open an issue")," ",(0,a.kt)("em",{parentName:"li"},"with\na reproducible example"),".")),(0,a.kt)("h3",{id:"Common-GitHub-issues"},"Common GitHub issues"),(0,a.kt)("p",null,"Below are some of common problem topics users experience with a link to the main\nissue(s) and links to the open and closed issues in the topic. Maybe you can\nfind an open or closed issue matching your problem. Even open issues might\nsuggest a workaround or shed more information on the problem."),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Label"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"),(0,a.kt)("th",{parentName:"tr",align:null},"Issues"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"browser detection"),(0,a.kt)("td",{parentName:"tr",align:null},"Local browser is not detected"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/labels/topic%3A%20browser%20detection"},"open"),", ",(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+browser+detection%22+is%3Aclosed"},"closed"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"cross-origin"),(0,a.kt)("td",{parentName:"tr",align:null},"Getting cross-origin error"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/labels/topic%3A%20cross-origin%20%E2%A4%AD"},"open"),", ",(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+cross-origin+%E2%A4%AD%22+is%3Aclosed"},"closed"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"cy.request"),(0,a.kt)("td",{parentName:"tr",align:null},"Issues related to ",(0,a.kt)("a",{parentName:"td",href:"/api/commands/request"},(0,a.kt)("inlineCode",{parentName:"a"},"cy.request()"))," command"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/labels/topic%3A%20cy.request"},"open"),", ",(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+cy.request%22+is%3Aclosed"},"closed"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"fixtures"),(0,a.kt)("td",{parentName:"tr",align:null},"Fixture loading and usage"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/labels/topic%3A%20fixtures"},"open"),", ",(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+fixtures%22+is%3Aclosed"},"closed"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"hooks"),(0,a.kt)("td",{parentName:"tr",align:null},"Issues related to hooks"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/labels/topic%3A%20hooks%20%E2%86%AA"},"open"),", ",(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+hooks+%E2%86%AA%22+is%3Aclosed"},"closed"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"iframes"),(0,a.kt)("td",{parentName:"tr",align:null},"Working with iframes"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/labels/topic%3A%20iframes"},"open"),", ",(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+iframes%22+is%3Aclosed"},"closed"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"installation"),(0,a.kt)("td",{parentName:"tr",align:null},"Cypress cannot be downloaded or installed"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/labels/topic%3A%20installation"},"open"),", ",(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+installation%22+is%3Aclosed"},"closed"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"network"),(0,a.kt)("td",{parentName:"tr",align:null},"Controlling network requests"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/labels/topic%3A%20network"},"open"),", ",(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+network%22+is%3Aclosed"},"closed"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"performance"),(0,a.kt)("td",{parentName:"tr",align:null},"Slow loading, slow network, etc"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/labels/type%3A%20performance%20%F0%9F%8F%83%E2%80%8D%E2%99%80%EF%B8%8F"},"open"),", ",(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22type%3A+performance+%F0%9F%8F%83%E2%80%8D%E2%99%80%EF%B8%8F%22+is%3Aclosed"},"closed"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"screenshots"),(0,a.kt)("td",{parentName:"tr",align:null},"Taking image screenshots"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/labels/topic%3A%20screenshots%20%F0%9F%93%B8"},"open"),", ",(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+screenshots+%F0%9F%93%B8%22+is%3Aclosed"},"closed"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"scrolling"),(0,a.kt)("td",{parentName:"tr",align:null},"Scrolling elements into view"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/labels/topic%3A%20scrolling%20%E2%86%95%EF%B8%8F"},"open"),", ",(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+scrolling+%E2%86%95%EF%B8%8F%22+is%3Aclosed"},"closed"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"spec execution"),(0,a.kt)("td",{parentName:"tr",align:null},"Running all or filtered specs"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/labels/topic%3A%20spec%20execution"},"open"),", ",(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+spec+execution%22+is%3Aclosed"},"closed"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"test execution"),(0,a.kt)("td",{parentName:"tr",align:null},"Running tests inside a single spec"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/labels/topic%3A%20test%20execution"},"open"),", ",(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+test+execution%22+is%3Aclosed"},"closed"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"TypeScript"),(0,a.kt)("td",{parentName:"tr",align:null},"Transpiling or bundling TypeScript"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/labels/topic%3A%20typescript"},"open"),", ",(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+typescript%22+is%3Aclosed"},"closed"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"video"),(0,a.kt)("td",{parentName:"tr",align:null},"Problems with video recordings"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/labels/topic%3A%20video%20%F0%9F%93%B9"},"open"),", ",(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+video+%F0%9F%93%B9%22+is%3Aclosed"},"closed"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"file downloads"),(0,a.kt)("td",{parentName:"tr",align:null},"File downloads are not working"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/labels/topic%3A%20downloads%20%E2%AC%87%EF%B8%8F"},"open"),", ",(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+downloads+%E2%AC%87%EF%B8%8F%22+is%3Aclosed"},"closed"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"intercept"),(0,a.kt)("td",{parentName:"tr",align:null},"Network stubbing using ",(0,a.kt)("a",{parentName:"td",href:"/api/commands/intercept"},"cy.intercept")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/labels/pkg%2Fnet-stubbing"},"open"),", ",(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/issues?q=label%3Apkg%2Fnet-stubbing+is%3Aclosed"},"closed"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"SIG","*"," errors"),(0,a.kt)("td",{parentName:"tr",align:null},"Crashes with errors like ",(0,a.kt)("inlineCode",{parentName:"td"},"SIGSEGV")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/labels/topic%3A%20SIG%20errors"},"open"),", ",(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+SIG+errors%22+is%3Aclosed"},"closed"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"environment variables"),(0,a.kt)("td",{parentName:"tr",align:null},"Parsing and using environment variables"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/labels/topic%3A%20environment%20variables"},"open"),", ",(0,a.kt)("a",{parentName:"td",href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+environment+variables%22+is%3Aclosed"},"closed"))))),(0,a.kt)("h2",{id:"Isolate-the-Problem"},"Isolate the Problem"),(0,a.kt)("p",null,"When debugging a failing test, follow these general principles to isolate the\nproblem:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Look at the\n",(0,a.kt)("a",{parentName:"li",href:"/guides/guides/screenshots-and-videos"},"video recordings and screenshots"),"."),(0,a.kt)("li",{parentName:"ul"},"Split large spec files into smaller ones."),(0,a.kt)("li",{parentName:"ul"},"Split long tests into smaller tests."),(0,a.kt)("li",{parentName:"ul"},"Run the same test using\n",(0,a.kt)("a",{parentName:"li",href:"/guides/guides/command-line#cypress-run-browser-lt-browser-name-or-path-gt"},"--browser chrome"),".\nThe problem might be isolated to the Electron browser."),(0,a.kt)("li",{parentName:"ul"},"If isolated to the Electron browser. Run the same tests in both Electron and\nChrome, then compare the screenshots/videos. Look for and isolate any\ndifferences in the Command Log.")),(0,a.kt)("h2",{id:"Download-specific-Chrome-version"},"Download specific Chrome version"),(0,a.kt)("p",null,"The Chrome browser is evergreen - meaning it will automatically update itself,\nsometimes causing a breaking change in your automated tests. We host\n",(0,a.kt)("a",{parentName:"p",href:"https://chromium.cypress.io"},"chromium.cypress.io")," with links to download a\nspecific released version of Chrome (dev, Canary and stable) for every platform."),(0,a.kt)("h2",{id:"Clear-Cypress-cache"},"Clear Cypress cache"),(0,a.kt)("p",null,"If you're having an issue during installation of Cypress, try removing the\ncontents of the Cypress cache."),(0,a.kt)("p",null,"This will clear out all installed versions of Cypress that may be cached on your\nmachine."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"cypress cache clear\n")),(0,a.kt)("p",null,"After running this command, you will need to run ",(0,a.kt)("inlineCode",{parentName:"p"},"cypress install")," before\nrunning Cypress again."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"npm install cypress --save-dev\n")),(0,a.kt)("h2",{id:"Launching-browsers"},"Launching browsers"),(0,a.kt)("p",null,"Cypress attempts to\n",(0,a.kt)("a",{parentName:"p",href:"/guides/guides/launching-browsers"},"automatically find installed Chrome versions for you"),'.\nHowever, probing for browsers across different environments can be error-prone.\nIf Cypress cannot find a browser but you know you have it installed, there are\nways to ensure that Cypress can "see" it.'),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"\u202f",(0,a.kt)("strong",null,"Using the ",(0,a.kt)("inlineCode",{parentName:"p"},"--browser")," command line argument")),(0,a.kt)("p",{parentName:"admonition"},"You can also supply the ",(0,a.kt)("inlineCode",{parentName:"p"},"--browser")," command line argument to launch a browser\nfrom a known filesystem path to bypass browser auto detection.\n",(0,a.kt)("a",{parentName:"p",href:"/guides/guides/launching-browsers#Launching-by-a-path"},"See 'Launching Browsers' for more information"))),(0,a.kt)("p",null,"You can see the full list of found browsers and their properties within the\n",(0,a.kt)("a",{parentName:"p",href:"/guides/references/configuration#Resolved-Configuration"},"resolved configuration"),"\nin the ",(0,a.kt)("strong",{parentName:"p"},"Settings")," tab of Cypress."),(0,a.kt)("p",null,"Another way to log what is found by Cypress is to run Cypress with the\n",(0,a.kt)("a",{parentName:"p",href:"#Print-DEBUG-logs"},"DEBUG environment variable")," set to ",(0,a.kt)("inlineCode",{parentName:"p"},"cypress:launcher"),". This\nwill print information about the found browsers and their properties to the\nterminal."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Tip:")," use the ",(0,a.kt)("a",{parentName:"p",href:"/guides/guides/command-line#cypress-info"},"cypress info"),"\ncommand to see all locally detected browsers."),(0,a.kt)("h3",{id:"Mac"},"Mac"),(0,a.kt)("p",null,"On Mac, Cypress attempts to find installed browsers by their bundle identifier.\nIf this does not succeed, it will fall back to the Linux browser detection\nmethod."),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Browser Name"),(0,a.kt)("th",{parentName:"tr",align:null},"Expected Bundle Identifier"),(0,a.kt)("th",{parentName:"tr",align:null},"Expected Executable"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"chrome")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"com.google.Chrome")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"Contents/MacOS/Google Chrome"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"chromium")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"org.chromium.Chromium")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"Contents/MacOS/Chromium"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"chrome:canary")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"com.google.Chrome.canary")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"Contents/MacOS/Google Chrome Canary"))))),(0,a.kt)("p",null,"For the current list, see\n",(0,a.kt)("a",{parentName:"p",href:"https://github.com/cypress-io/cypress/blob/develop/packages/launcher/lib/darwin/index.ts"},"packages/launcher"),"\nfiles."),(0,a.kt)("h3",{id:"Linux"},"Linux"),(0,a.kt)("p",null,"On Linux, Cypress scans your ",(0,a.kt)("inlineCode",{parentName:"p"},"PATH")," for a number of different binary names. If\nthe browser you are trying to use does not exist under one of the expected\nbinary names, Cypress will not be able to find it."),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Browser Name"),(0,a.kt)("th",{parentName:"tr",align:null},"Expected Binary Name(s)"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"chrome")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"google-chrome"),", ",(0,a.kt)("inlineCode",{parentName:"td"},"chrome"),", or ",(0,a.kt)("inlineCode",{parentName:"td"},"google-chrome-stable"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"chromium")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"chromium-browser")," or ",(0,a.kt)("inlineCode",{parentName:"td"},"chromium"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"chrome:canary")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"google-chrome-canary"))))),(0,a.kt)("p",null,"These binary names should work for most Linux distributions. If your\ndistribution packages browsers under a different binary name, you can add a\nsymlink using the expected binary name so that Cypress can detect it."),(0,a.kt)("p",null,"For example, if your distribution packages Google Chrome as ",(0,a.kt)("inlineCode",{parentName:"p"},"chrome"),", you could\nadd a symlink to ",(0,a.kt)("inlineCode",{parentName:"p"},"google-chrome")," like this:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"sudo ln `which chrome` /usr/local/bin/google-chrome\n")),(0,a.kt)("h3",{id:"Windows"},"Windows"),(0,a.kt)("p",null,"On Windows, Cypress scans the following locations to try to find each browser:"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Browser Name"),(0,a.kt)("th",{parentName:"tr",align:null},"Expected Path"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"chrome")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"C:/Program Files (x86)/Google/Chrome/Application/chrome.exe"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"chromium")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"C:/Program Files (x86)/Google/chrome-win32/chrome.exe"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"chrome:canary")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"%APPDATA%/../Local/Google/Chrome SxS/Application/chrome.exe"))))),(0,a.kt)("p",null,"For the current list, see\n",(0,a.kt)("a",{parentName:"p",href:"https://github.com/cypress-io/cypress/blob/develop/packages/launcher/lib/windows/index.ts"},"packages/launcher"),"\nfiles."),(0,a.kt)("p",null,"To make a browser installed at a different path be auto-detected, create a\nsymbolic link using ",(0,a.kt)("inlineCode",{parentName:"p"},"mklink")," in the location that Cypress expects to find your\nbrowser."),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://www.howtogeek.com/howto/16226/complete-guide-to-symbolic-links-symlinks-on-windows-or-linux/"},"Read more about creating symbolic links on Windows")),(0,a.kt)("p",null,"Occasionally Cypress will have issues detecting the type of browser in Windows\nenvironments. To manually detect the browser type, append the browser type to\nthe end of the path:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"cypress open --browser C:/User/Application/browser.exe:chrome\n")),(0,a.kt)("h2",{id:"Allow-the-Cypress-Chrome-extension"},"Allow the Cypress Chrome extension"),(0,a.kt)("p",null,"Cypress utilizes a Chrome extension in order to run properly. If you or your\ncompany block specific Chrome extensions, this may cause problems with running\nCypress. You will want to ask your administrator to allow the Cypress extension\nID below:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"caljajdfkjjjdehjdoimjkkakekklcck\n")),(0,a.kt)("h2",{id:"Allow-Cypress-URLs-on-VPNs"},"Allow Cypress URLs on VPNs"),(0,a.kt)("p",null,"To send the data and results of your tests to\n",(0,a.kt)("a",{parentName:"p",href:"https://on.cypress.io/cloud-introduction"},"Cypress Cloud"),", Cypress needs free\naccess to some URLs."),(0,a.kt)("p",null,"If you are running the tests from within a restrictive VPN you will need to\nallow some URLs so that Cypress can have effective communication with Cypress\nCloud."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"The URLs are the following:")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"https://api.cypress.io")," - ",(0,a.kt)("strong",{parentName:"li"},"Cypress API")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"https://assets.cypress.io")," - ",(0,a.kt)("strong",{parentName:"li"},"Asset CDN")," (Org logos, icons, videos,\nscreenshots, etc.)"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"https://authenticate.cypress.io")," - ",(0,a.kt)("strong",{parentName:"li"},"Authentication API")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"https://capture.cypress.io")," - ",(0,a.kt)("strong",{parentName:"li"},"Cypress Test Replay")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"https://cloud.cypress.io")," - ",(0,a.kt)("strong",{parentName:"li"},"Cypress Cloud")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"https://docs.cypress.io")," - ",(0,a.kt)("strong",{parentName:"li"},"Cypress documentation")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"https://download.cypress.io")," - ",(0,a.kt)("strong",{parentName:"li"},"CDN download of Cypress binary")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"https://on.cypress.io")," - ",(0,a.kt)("strong",{parentName:"li"},"URL shortener for link redirects"))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"If you are using GitHub Enterprise or GitLab for Enterprise (Self-managed),\nyou may also need to add the following to the version control IP allowlist:")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"3.211.102.119")," - ",(0,a.kt)("strong",{parentName:"li"},"Dedicated IP")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"18.213.72.78")," - ",(0,a.kt)("strong",{parentName:"li"},"Dedicated IP")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"35.169.145.173")," - ",(0,a.kt)("strong",{parentName:"li"},"Dedicated IP")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"44.199.152.70")," - ",(0,a.kt)("strong",{parentName:"li"},"Dedicated IP")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"52.70.95.89")," - ",(0,a.kt)("strong",{parentName:"li"},"Dedicated IP"))),(0,a.kt)("h2",{id:"Clear-App-Data"},"Clear App Data"),(0,a.kt)("p",null,"Cypress maintains some local application data in order to save user preferences\nand more quickly start up. Sometimes this data can become corrupted. You may fix\nan issue you have by clearing this app data."),(0,a.kt)("h3",{id:"To-clear-App-Data"},"To clear App Data"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Open Cypress via ",(0,a.kt)("inlineCode",{parentName:"li"},"cypress open")),(0,a.kt)("li",{parentName:"ol"},"Go to ",(0,a.kt)("inlineCode",{parentName:"li"},"Developer Tools")," -> ",(0,a.kt)("inlineCode",{parentName:"li"},"View App Data")),(0,a.kt)("li",{parentName:"ol"},"This will take you to the directory in your file system where your App Data\nis stored. If you cannot open Cypress, search your file system for a\ndirectory named ",(0,a.kt)("inlineCode",{parentName:"li"},"cy")," whose content should look something like this:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-text"},"\ud83d\udcc2 production\n  \ud83d\udcc4 all.log\n  \ud83d\udcc1 browsers\n  \ud83d\udcc1 bundles\n  \ud83d\udcc4 cache\n  \ud83d\udcc1 projects\n  \ud83d\udcc1 proxy\n  \ud83d\udcc4 state.json\n")),(0,a.kt)("ol",{start:4},(0,a.kt)("li",{parentName:"ol"},"Delete everything in the ",(0,a.kt)("inlineCode",{parentName:"li"},"cy")," folder"),(0,a.kt)("li",{parentName:"ol"},"Close Cypress and open it up again")),(0,a.kt)("h2",{id:"Print-DEBUG-logs"},"Print DEBUG logs"),(0,a.kt)("p",null,"Cypress is built using the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/visionmedia/debug"},"debug")," module.\nThat means you can receive helpful debugging output by running Cypress with this\nturned on. ",(0,a.kt)("strong",{parentName:"p"},"Note:")," you will see a LOT of messages when running with\n",(0,a.kt)("inlineCode",{parentName:"p"},"DEBUG=...")," setting."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"On Mac or Linux:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"DEBUG=cypress:* cypress run\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"On Windows:")),(0,a.kt)("p",null,"On Windows, you'll need to run the command in a command prompt terminal (not\nPowerShell)."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"set DEBUG=cypress:*\ncypress run\n")),(0,a.kt)("p",null,"If you have issues with the logs not printing, it may be a permissions issue\nwith setting the environment variable in your terminal. You may need to run your\nterminal in administrative mode or review your permission settings."),(0,a.kt)("p",null,"Read more\n",(0,a.kt)("a",{parentName:"p",href:"/guides/guides/command-line#Debugging-commands"},"about the CLI options here")," and\n",(0,a.kt)("a",{parentName:"p",href:"https://glebbahmutov.com/blog/good-logging/"},"Good Logging")," blog post."),(0,a.kt)("h3",{id:"Detailed-Logs"},"Detailed Logs"),(0,a.kt)("p",null,"There are several levels of ",(0,a.kt)("inlineCode",{parentName:"p"},"DEBUG")," messages"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"## prints very few top-level messages\nDEBUG=cypress:server ...\n## prints ALL messages from server package\nDEBUG=cypress:server* ...\n## prints messages only from config parsing\nDEBUG=cypress:server:config ...\n")),(0,a.kt)("p",null,"This allows you to isolate the problem a little better"),(0,a.kt)("h3",{id:"Log-sources"},"Log sources"),(0,a.kt)("p",null,"Cypress is built from multiple packages, each responsible for its own logging:\nserver, reporter, driver, command line, etc. Each package writes debug logs\nunder a different source. Here are a few common log sources and when you might\nwant to enable them"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Set ",(0,a.kt)("inlineCode",{parentName:"th"},"DEBUG")," to value"),(0,a.kt)("th",{parentName:"tr",align:null},"To enable debugging"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"cypress:cli")),(0,a.kt)("td",{parentName:"tr",align:null},"The top-level command line parsing problems")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"cypress:server:args")),(0,a.kt)("td",{parentName:"tr",align:null},"Incorrect parsed command line arguments")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"cypress:server:specs")),(0,a.kt)("td",{parentName:"tr",align:null},"Not finding the expected specs")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"cypress:server:project")),(0,a.kt)("td",{parentName:"tr",align:null},"Opening the project")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"cypress:server:browsers")),(0,a.kt)("td",{parentName:"tr",align:null},"Finding installed browsers")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"cypress:launcher")),(0,a.kt)("td",{parentName:"tr",align:null},"Launching the found browser")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"cypress:server:video")),(0,a.kt)("td",{parentName:"tr",align:null},"Video recording")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"cypress:network:*")),(0,a.kt)("td",{parentName:"tr",align:null},"Adding network interceptors")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"cypress:net-stubbing*")),(0,a.kt)("td",{parentName:"tr",align:null},"Network interception in the proxy layer")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"cypress:server:reporter")),(0,a.kt)("td",{parentName:"tr",align:null},"Problems with test reporters")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"cypress:server:preprocessor")),(0,a.kt)("td",{parentName:"tr",align:null},"Processing specs")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"cypress:server:socket-e2e")),(0,a.kt)("td",{parentName:"tr",align:null},"Watching spec files")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"cypress:server:task")),(0,a.kt)("td",{parentName:"tr",align:null},"Invoking the ",(0,a.kt)("inlineCode",{parentName:"td"},"cy.task()")," command")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"cypress:server:socket-base")),(0,a.kt)("td",{parentName:"tr",align:null},"Debugging ",(0,a.kt)("inlineCode",{parentName:"td"},"cy.request()")," command")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"cypress:webpack")),(0,a.kt)("td",{parentName:"tr",align:null},"Bundling specs using webpack")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"cypress:server:fixture")),(0,a.kt)("td",{parentName:"tr",align:null},"Loading fixture files")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"cypress:server:record:ci-info")),(0,a.kt)("td",{parentName:"tr",align:null},"Git commit and CI information when recording to Cypress Cloud")))),(0,a.kt)("p",null,"You can combine several areas together using the comma character. For example,\nto debug specs not being found, use:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"## see how CLI arguments were parsed\n## and how Cypress tried to locate spec files\nDEBUG=cypress:cli,cypress:server:specs npx cypress run --spec ...\n")),(0,a.kt)("p",null,"You can also exclude a log source using ",(0,a.kt)("inlineCode",{parentName:"p"},"-")," character. For example, to see all\n",(0,a.kt)("inlineCode",{parentName:"p"},"cypress:server*")," messages without noisy browser messages use:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"DEBUG=cypress:server*,-cypress:server:browsers* npx cypress run\n")),(0,a.kt)("h4",{id:"Debug-log-depth"},"Debug log depth"),(0,a.kt)("p",null,"Sometimes the logged object has deeply nested properties and is shown as\n",(0,a.kt)("inlineCode",{parentName:"p"},"[Object]")," instead of the full serialization."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"DEBUG=cypress:server:socket-base npx cypress run\n\ncypress:server:socket-base backend:request { eventName: 'http:request', args:\n  [ { url: 'http://localhost:7065/echo', method: 'POST', body: [Object], auth: [Object],\n  json: true, encoding: 'utf8', gzip: true, timeout: 30000, followRedirect: true,\n  failOnStatusCode: true, retryOnNetworkFailure: true,\n  retryOnStatusCodeFailure: false } ] } +5ms\n")),(0,a.kt)("p",null,"You can increase the printed object depth using the ",(0,a.kt)("inlineCode",{parentName:"p"},"DEBUG_DEPTH")," environment\nvariable"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"DEBUG=cypress:server:socket-base DEBUG_DEPTH=3 npx cypress run\n\ncypress:server:socket-base backend:request { eventName: 'http:request', args:\n  [ { url: 'http://localhost:7065/echo', method: 'POST', body: { text: 'ping!' },\n  auth: { username: 'jane.lane', password: 'password123' }, json: true, encoding: 'utf8',\n  gzip: true, timeout: 30000, followRedirect: true, failOnStatusCode: true,\n  retryOnNetworkFailure: true, retryOnStatusCodeFailure: false } ] } +4ms\n")),(0,a.kt)("h4",{id:"3rd-party-modules"},"3rd party modules"),(0,a.kt)("p",null,"Some 3rd party modules like\n",(0,a.kt)("a",{parentName:"p",href:"https://github.com/cypress-io/request"},"@cypress/request")," output additional log\nmessages by inspecting the ",(0,a.kt)("inlineCode",{parentName:"p"},"NODE_DEBUG")," environment variable. For example to\ndebug the network interception and the requests made by the ",(0,a.kt)("inlineCode",{parentName:"p"},"@cypress/request"),"\nuse:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"DEBUG=cypress:net-stubbing:server:intercept-request \\\n  NODE_DEBUG=request npx cypress run\n")),(0,a.kt)("h3",{id:"Debug-logs-in-the-browser"},"Debug logs in the browser"),(0,a.kt)("p",null,"If the problem is seen during ",(0,a.kt)("inlineCode",{parentName:"p"},"cypress open")," you can print debug logs in the\nbrowser too. Open the browser's Developer Tools and set a ",(0,a.kt)("inlineCode",{parentName:"p"},"localStorage"),"\nproperty:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"localStorage.debug = 'cypress*'\n\n// to disable debug messages\ndelete localStorage.debug\n")),(0,a.kt)("p",null,"Reload the browser and turn on 'Verbose' logs to see debug messages within the\nDeveloper Tools console. You will only see the ",(0,a.kt)("strong",{parentName:"p"},"cypress\\:driver")," package logs\nthat run in the browser, as you can see below."),(0,a.kt)(c,{src:"/img/api/debug/debug-driver.jpg",alt:"Debug logs in browser",mdxType:"DocsImage"}),(0,a.kt)("h2",{id:"Log-memory-and-CPU-usage"},"Log memory and CPU usage"),(0,a.kt)("p",null,"You can tell Cypress to log out a summary of the memory and CPU usage of itself\nand any subprocesses at a regular interval by enabling the\n",(0,a.kt)("inlineCode",{parentName:"p"},"cypress:server:util:process_profiler")," debug stream, like so:"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"On Mac or Linux:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"DEBUG=cypress:server:util:process_profiler cypress run\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"On Windows:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"set DEBUG=cypress:server:util:process_profiler\ncypress run\n")),(0,a.kt)("p",null,"In the resulting output, processes are grouped by their name."),(0,a.kt)(c,{src:"/img/guides/troubleshooting/troubleshooting-cypress-process-profiler-cli.jpg",alt:"Process printout of Cypress in CLI",mdxType:"DocsImage"}),(0,a.kt)("p",null,"By default, process information is collected and summarized is printed once\nevery 10 seconds. You can override this interval by setting the\n",(0,a.kt)("inlineCode",{parentName:"p"},"CYPRESS_PROCESS_PROFILER_INTERVAL")," environment variable to the desired interval\nin milliseconds."),(0,a.kt)("p",null,"You can also obtain more detailed per-process information by enabling the\nverbose ",(0,a.kt)("inlineCode",{parentName:"p"},"cypress-verbose:server:util:process_profiler")," debug stream."),(0,a.kt)("h2",{id:"Disable-the-Command-Log"},"Disable the Command Log"),(0,a.kt)("p",null,"In some cases the ",(0,a.kt)("a",{parentName:"p",href:"/guides/core-concepts/cypress-app#Command-Log"},"Command Log"),",\nresponsible for displaying test commands, assertions, and statuses in the\nCypress Test Runner, may cause performance issues resulting in slower tests or\nthe browser crashing."),(0,a.kt)("p",null,"In order to isolate these issues, you can hide the Command Log by passing the\nenvironment variable below during ",(0,a.kt)("inlineCode",{parentName:"p"},"cypress open")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"cypress run"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"CYPRESS_NO_COMMAND_LOG=1 cypress run\n")),(0,a.kt)("p",null,"You can also hide the entire Cypress Runner UI in ",(0,a.kt)("inlineCode",{parentName:"p"},"cypress run")," by passing the ",(0,a.kt)("a",{parentName:"p",href:"/guides/guides/command-line#cypress-run-no-runner-ui"},(0,a.kt)("inlineCode",{parentName:"a"},"--no-runner-ui"))," command line flag."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"cypress run --no-runner-ui\n")),(0,a.kt)("p",null,"With this variable set, Cypress will skip rendering the Command Log entirely,\nand perform none of the usual DOM updates to display information about commands\nand statuses as the test runs."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Note:")," With this variable set, screenshots and videos will not include the\nCommand Log."),(0,a.kt)("h2",{id:"Additional-information"},"Additional information"),(0,a.kt)("h3",{id:"Write-command-log-to-the-terminal"},"Write command log to the terminal"),(0,a.kt)("p",null,"You can include the plugin\n",(0,a.kt)("a",{parentName:"p",href:"https://github.com/bahmutov/cypress-failed-log"},"cypress-failed-log")," in your\ntests. This plugin writes the list of Cypress commands to the terminal as well\nas a JSON file if a test fails."),(0,a.kt)(c,{src:"/img/api/debug/failed-log.png",alt:"cypress-failed-log terminal output",mdxType:"DocsImage"}),(0,a.kt)("h2",{id:"Hacking-on-Cypress"},"Hacking on Cypress"),(0,a.kt)("p",null,"If you want to dive into Cypress and edit the code yourself, you can do that.\nThe Cypress code is open source and licensed under an\n",(0,a.kt)("a",{parentName:"p",href:"https://github.com/cypress-io/cypress/blob/develop/LICENSE"},"MIT license"),". There\nare a few tips on getting started that we've outlined below."),(0,a.kt)("h3",{id:"Contribute"},"Contribute"),(0,a.kt)("p",null,"If you'd like to contribute directly to the Cypress code, we'd love to have your\nhelp! Please check out our\n",(0,a.kt)("a",{parentName:"p",href:"https://github.com/cypress-io/cypress/blob/develop/CONTRIBUTING.md"},"contributing guide"),"\nto learn about the many ways you can contribute."),(0,a.kt)("h3",{id:"Run-Cypress-by-itself"},"Run Cypress by itself"),(0,a.kt)("p",null,"Cypress comes with an npm CLI module that parses the arguments, starts the Xvfb\nserver (if necessary), and then opens Cypress."),(0,a.kt)("p",null,"Some common situations on why you would want to run Cypress by itself are to:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"debug Cypress not starting or hanging"),(0,a.kt)("li",{parentName:"ul"},"debug problems related to the way CLI arguments are parsed by the npm CLI\nmodule")),(0,a.kt)("p",null,"Here is how you can launch Cypress directly without the npm CLI module. First,\nfind where the binary is installed using the\n",(0,a.kt)("a",{parentName:"p",href:"/guides/guides/command-line#cypress-cache-path"},"cypress cache path")," command."),(0,a.kt)("p",null,"For example, on a Linux machine:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"npx cypress cache path\n/root/.cache/Cypress\n")),(0,a.kt)("p",null,"Second, try a smoke test that verifies that the application has all its required\ndependencies present on the host machine:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"/root/.cache/Cypress/3.3.1/Cypress/Cypress --smoke-test --ping=101\n101\n")),(0,a.kt)("p",null,"If there is a missing dependency, the application should print an error message.\nYou can see the Electron verbose log messages by setting an\n",(0,a.kt)("a",{parentName:"p",href:"https://www.electronjs.org/docs/api/command-line-switches"},"environment variable ELECTRON_ENABLE_LOGGING"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"ELECTRON_ENABLE_LOGGING=true DISPLAY=10.130.4.201:0 /root/.cache/Cypress/3.3.1/Cypress/Cypress --smoke-test --ping=101\n[809:0617/151243.281369:ERROR:bus.cc(395)] Failed to connect to the bus: Failed to connect to socket /var/run/dbus/system_bus_socket: No such file or directory\n101\n")),(0,a.kt)("p",null,"If the smoke test fails to execute, check if a shared library is missing (a\ncommon problem on Linux machines without all of the Cypress dependencies\npresent)."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"ldd /home/person/.cache/Cypress/3.3.1/Cypress/Cypress\n  linux-vdso.so.1 (0x00007ffe9eda0000)\n  libnode.so => /home/person/.cache/Cypress/3.3.1/Cypress/libnode.so (0x00007fecb43c8000)\n  libpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007fecb41ab000)\n  libgtk-3.so.0 => not found\n  libgdk-3.so.0 => not found\n  ...\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Tip:")," use ",(0,a.kt)("a",{parentName:"p",href:"/examples/docker"},"Cypress Docker image")," or install dependencies by\ncopying them from one of our official Docker images."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Note:")," verbose Electron logging might show warnings that still allow Cypress\nto work normally. For example, Cypress opens normally despite the scary output\nbelow:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},'ELECTRON_ENABLE_LOGGING=true DISPLAY=10.130.4.201:0 /root/.cache/Cypress/3.3.1/Cypress/Cypress\n[475:0617/150421.326986:ERROR:bus.cc(395)] Failed to connect to the bus: Failed to connect to socket /var/run/dbus/system_bus_socket: No such file or directory\n[475:0617/150425.061526:ERROR:bus.cc(395)] Failed to connect to the bus: Could not parse server address: Unknown address type (examples of valid types are "tcp" and on UNIX "unix")\n[475:0617/150425.079819:ERROR:bus.cc(395)] Failed to connect to the bus: Could not parse server address: Unknown address type (examples of valid types are "tcp" and on UNIX "unix")\n[475:0617/150425.371013:INFO:CONSOLE(73292)] "%cDownload the React DevTools for a better development experience: https://fb.me/react-devtools\nYou might need to use a local HTTP server (instead of file://): https://fb.me/react-devtools-faq", source: file:///root/.cache/Cypress/3.3.1/Cypress/resources/app/packages/desktop-gui/dist/app.js (73292)\n')),(0,a.kt)("p",null,"You can also see verbose Cypress logs when running the Cypress binary"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"DEBUG=cypress* DISPLAY=10.130.4.201:0 /root/.cache/Cypress/3.3.1/Cypress/Cypress --smoke-test --ping=101\ncypress:ts Running without ts-node hook in environment \"production\" +0ms\ncypress:server:cypress starting cypress with argv [ '/root/.cache/Cypress/3.3.1/Cypress/Cypress', '--smoke-test', '--ping=101' ] +0ms\ncypress:server:args argv array: [ '/root/.cache/Cypress/3.3.1/Cypress/Cypress', '--smoke-test', '--ping=101' ] +0ms\ncypress:server:args argv parsed: { _: [ '/root/.cache/Cypress/3.3.1/Cypress/Cypress' ], smokeTest: true, ping: 101, cwd: '/root/.cache/Cypress/3.3.1/Cypress/resources/app/packages/server' } +7ms\ncypress:server:args options { _: [ '/root/.cache/Cypress/3.3.1/Cypress/Cypress' ], smokeTest: true, ping: 101, cwd: '/root/.cache/Cypress/3.3.1/Cypress/resources/app/packages/server', config: {} } +2ms\ncypress:server:args argv options: { _: [ '/root/.cache/Cypress/3.3.1/Cypress/Cypress' ], smokeTest: true, ping: 101, cwd: '/root/.cache/Cypress/3.3.1/Cypress/resources/app/packages/server', config: {}, pong: 101 } +1ms\ncypress:server:appdata path: /root/.config/Cypress/cy/production +0ms\ncypress:server:cypress starting in mode smokeTest +356ms\n101\ncypress:server:cypress about to exit with code 0 +4ms\n")),(0,a.kt)("p",null,"If the smoke test does not show a specific error yet fails, try printing the\nElectron crash stack to maybe pinpoint the problem better:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"ELECTRON_ENABLE_STACK_DUMPING=1 npx cypress verify\n...\nReceived signal 11 SEGV_MAPERR ffffffb27e8955bb\n#0 0x55c6389f83d9 (/root/.cache/Cypress/3.8.2/Cypress/Cypress+0x35d13d8)\nr8: 0000000000000000  r9: 00007ffcf0387c80 r10: 00007ffcf0387bd8 r11: 000000000000000e\nr12: 00007ffcf0387d2c r13: 00007f3ea737b720 r14: ffffffb27e89558b r15: 00007f3ea8974200\ndi: 0000000000000000  si: 0000000000000020  bp: 0000000000000000  bx: 0000004f2f375580\ndx: 0000000000000001  ax: 0000000000000030  cx: 0000000000000001  sp: 00007ffcf0387d00\nip: 00007f3ea89582dd efl: 0000000000010246 cgf: 002b000000000033 erf: 0000000000000005\ntrp: 000000000000000e msk: 0000000000000000 cr2: ffffffb27e8955bb\n[end of stack trace]\nCalling _exit(1). Core file will not be generated.\n")),(0,a.kt)("h3",{id:"Patch-Cypress"},"Patch Cypress"),(0,a.kt)("p",null,"Cypress comes with an npm CLI module that parses the arguments, starts the Xvfb\nserver (if necessary), and then opens Cypress."),(0,a.kt)("p",null,"If you're encountering a bug in the current version of Cypress, you can\nimplementing a temporary fix by patching Cypress in your own project. Here is an\nexample of how to do this."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Install ",(0,a.kt)("a",{parentName:"li",href:"https://github.com/ds300/patch-package"},"patch-package"),"."),(0,a.kt)("li",{parentName:"ol"},"Add a patch step to your CI configuration after installing your npm packages.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"- run: npm ci\n- run: npx patch-package\n")),(0,a.kt)("p",null,"Alternatively, you can apply the patch during a post-install phase. In your\n",(0,a.kt)("inlineCode",{parentName:"p"},"package.json"),", for example, you could add the following:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "scripts": {\n    "postinstall": "patch-package"\n  }\n}\n')),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},"Edit the line causing the problem ",(0,a.kt)("em",{parentName:"li"},"in your local node_modules folder")," within\n",(0,a.kt)("inlineCode",{parentName:"li"},"node_modules/cypress"),"."),(0,a.kt)("li",{parentName:"ol"},"Run the ",(0,a.kt)("inlineCode",{parentName:"li"},"npx patch-package cypress")," command. This command will create a new\nfile ",(0,a.kt)("inlineCode",{parentName:"li"},"patches/cypress+3.4.1.patch"),".")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-css"},"npx patch-package cypress\npatch-package 6.1.2\n\u2022 Creating temporary folder\n\u2022 Installing cypress@3.4.1 with npm\n\u2022 Diffing your files with clean files\n\u2714 Created file patches/cypress+3.4.1.patch\n")),(0,a.kt)("ol",{start:5},(0,a.kt)("li",{parentName:"ol"},"Commit the new ",(0,a.kt)("inlineCode",{parentName:"li"},"patches")," folder to git.")),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"If you find a patch for an error, please add a comment explaining your\nworkaround to the relevant Cypress GitHub issue. It will help us release an\nofficial fix faster.")))}m.isMDXComponent=!0}}]);