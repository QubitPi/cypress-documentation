"use strict";(self.webpackChunkcypress_docusaurus_ts=self.webpackChunkcypress_docusaurus_ts||[]).push([[3308],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>h});var s=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=s.createContext({}),p=function(e){var t=s.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},u=function(e){var t=p(e.components);return s.createElement(l.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return s.createElement(s.Fragment,{},t)}},m=s.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),c=p(n),m=a,h=c["".concat(l,".").concat(m)]||c[m]||d[m]||i;return n?s.createElement(h,r(r({ref:t},u),{},{components:n})):s.createElement(h,r({ref:t},u))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,r=new Array(i);r[0]=m;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[c]="string"==typeof e?e:a,r[1]=o;for(var p=2;p<i;p++)r[p]=n[p];return s.createElement.apply(null,r)}return s.createElement.apply(null,n)}m.displayName="MDXCreateElement"},5139:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>y,frontMatter:()=>i,metadata:()=>o,toc:()=>p});var s=n(7462),a=(n(7294),n(3905));const i={title:"Writing and Organizing Tests",sidebar_position:30},r=void 0,o={unversionedId:"guides/core-concepts/writing-and-organizing-tests",id:"guides/core-concepts/writing-and-organizing-tests",title:"Writing and Organizing Tests",description:"What you'll learn",source:"@site/docs/guides/core-concepts/writing-and-organizing-tests.mdx",sourceDirName:"guides/core-concepts",slug:"/guides/core-concepts/writing-and-organizing-tests",permalink:"/cypress-documentation/guides/core-concepts/writing-and-organizing-tests",draft:!1,editUrl:"https://github.com/cypress-io/cypress-documentation/tree/main/docs/guides/core-concepts/writing-and-organizing-tests.mdx",tags:[],version:"current",lastUpdatedAt:1697461007,formattedLastUpdatedAt:"Oct 16, 2023",sidebarPosition:30,frontMatter:{title:"Writing and Organizing Tests",sidebar_position:30},sidebar:"guides",previous:{title:"Testing Types",permalink:"/cypress-documentation/guides/core-concepts/testing-types"},next:{title:"Test Isolation",permalink:"/cypress-documentation/guides/core-concepts/test-isolation"}},l={},p=[{value:"Folder structure",id:"Folder-structure",level:2},{value:"Configuring Folder Structure",id:"Configuring-Folder-Structure",level:3},{value:"Spec files",id:"Spec-files",level:3},{value:"Fixture Files",id:"Fixture-Files",level:3},{value:"Asset Files",id:"Asset-Files",level:3},{value:"Download Files",id:"Download-Files",level:4},{value:"Screenshot Files",id:"Screenshot-Files",level:4},{value:"Video Files",id:"Video-Files",level:4},{value:"Asset File Paths",id:"Asset-File-Paths",level:4},{value:"Assets in Cypress Cloud",id:"Assets-in-Cypress-Cloud",level:4},{value:"Plugins file",id:"Plugins-file",level:3},{value:"Support file",id:"Support-file",level:3},{value:"Execution",id:"Execution",level:4},{value:"Troubleshooting",id:"Troubleshooting",level:3},{value:"Writing tests",id:"Writing-tests",level:2},{value:"Test Structure",id:"Test-Structure",level:3},{value:"Hooks",id:"Hooks",level:3},{value:"The order of hook and test execution is as follows:",id:"The-order-of-hook-and-test-execution-is-as-follows",level:4},{value:"Excluding and Including Tests",id:"Excluding-and-Including-Tests",level:3},{value:"Test Isolation",id:"Test-Isolation",level:3},{value:"Test Configuration",id:"Test-Configuration",level:3},{value:"Syntax",id:"Syntax",level:4},{value:"Allowed config values",id:"Allowed-config-values",level:4},{value:"Suite configuration",id:"Suite-configuration",level:4},{value:"Single test configuration",id:"Single-test-configuration",level:4},{value:"Dynamically Generate Tests",id:"Dynamically-Generate-Tests",level:3},{value:"Assertion Styles",id:"Assertion-Styles",level:3},{value:"Running tests",id:"Running-tests",level:2},{value:"Test statuses",id:"Test-statuses",level:2},{value:"Passed",id:"Passed",level:3},{value:"Failed",id:"Failed",level:3},{value:"Pending",id:"Pending",level:3},{value:"Skipped",id:"Skipped",level:3},{value:"Watching tests",id:"Watching-tests",level:2},{value:"What is watched?",id:"What-is-watched",level:3},{value:"Files",id:"Files",level:4},{value:"Folders",id:"Folders",level:4},{value:"What isn&#39;t watched?",id:"What-isnt-watched",level:3},{value:"Configuration",id:"Configuration",level:3}],u=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,a.kt)("div",t)},c=u("Icon"),d=u("Tabs"),m=u("TabItem"),h=u("DocsImage"),f=u("Logo"),g=u("WarningPluginsFile"),k={toc:p};function y(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,s.Z)({},k,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("h2",{parentName:"admonition",id:"What-youll-learn"},(0,a.kt)(c,{name:"graduation-cap",mdxType:"Icon"})," What you'll learn"),(0,a.kt)("ul",{parentName:"admonition"},(0,a.kt)("li",{parentName:"ul"},"How to organize your test and support files."),(0,a.kt)("li",{parentName:"ul"},"What languages are supported in your test files."),(0,a.kt)("li",{parentName:"ul"},"How Cypress handles unit tests vs integration tests."),(0,a.kt)("li",{parentName:"ul"},"How to group your tests."))),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("strong",null,"Best Practices"),(0,a.kt)("p",{parentName:"admonition"},'We gave a "Best Practices" conference talk at AssertJS (February 2018). This\nvideo demonstrates how to approach breaking down your application and organizing\nyour tests.'),(0,a.kt)(c,{name:"play-circle",url:"https://www.youtube.com/watch?v=5XQOK0v_YRE",callout:"AssertJS - Cypress Best Practices",mdxType:"Icon"})),(0,a.kt)("h2",{id:"Folder-structure"},"Folder structure"),(0,a.kt)("p",null,"After adding a new project, Cypress will automatically scaffold out a suggested\nfolder structure. By default it will create:"),(0,a.kt)(d,{mdxType:"Tabs"},(0,a.kt)(m,{value:"JavaScript",active:!0,mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-text"},"E2E:\n/cypress.config.js\n/cypress/fixtures/example.json\n/cypress/support/commands.js\n/cypress/support/e2e.js\n\nComponent:\n/cypress.config.js\n/cypress/fixtures/example.json\n/cypress/support/commands.js\n/cypress/support/component.js\n/cypress/support/component-index.html\n\nBoth:\n/cypress.config.js\n/cypress/fixtures/example.json\n/cypress/support/commands.js\n/cypress/support/e2e.js\n/cypress/support/component.js\n/cypress/support/component-index.html\n"))),(0,a.kt)(m,{value:"TypeScript",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-text"},"E2E:\n/cypress.config.ts\n/cypress/fixtures/example.json\n/cypress/support/commands.ts\n/cypress/support/e2e.ts\n\nComponent:\n/cypress.config.ts\n/cypress/fixtures/example.json\n/cypress/support/commands.ts\n/cypress/support/component.ts\n/cypress/support/component-index.html\n\nBoth:\n/cypress.config.ts\n/cypress/fixtures/example.json\n/cypress/support/commands.ts\n/cypress/support/e2e.ts\n/cypress/support/component.ts\n/cypress/support/component-index.html\n")))),(0,a.kt)("h3",{id:"Configuring-Folder-Structure"},"Configuring Folder Structure"),(0,a.kt)("p",null,"While Cypress allows you to configure where your tests, fixtures, and support\nfiles are located, if you're starting your first project, we recommend you use\nthe above structure."),(0,a.kt)("p",null,"You can modify the folder configuration in your configuration file. See the\n",(0,a.kt)("a",{parentName:"p",href:"/guides/references/configuration#Folders-Files"},"Cypress configuration")," for more\ndetail."),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("strong",null,"What files should I add to my '.gitignore file' ?"),(0,a.kt)("p",{parentName:"admonition"},"Cypress will create a\n",(0,a.kt)("a",{parentName:"p",href:"/guides/references/configuration#Screenshots"},(0,a.kt)("inlineCode",{parentName:"a"},"screenshotsFolder"))," and a\n",(0,a.kt)("a",{parentName:"p",href:"/guides/references/configuration#Videos"},(0,a.kt)("inlineCode",{parentName:"a"},"videosFolder"))," to store the\nscreenshots and videos taken during the testing of your application. Many users\nwill opt to add these folders to their ",(0,a.kt)("inlineCode",{parentName:"p"},".gitignore")," file. Additionally, if you\nare storing sensitive environment variables in your\n",(0,a.kt)("a",{parentName:"p",href:"/guides/references/configuration"},"Cypress configuration")," or\n",(0,a.kt)("a",{parentName:"p",href:"/guides/guides/environment-variables#Option-2-cypress-env-json"},(0,a.kt)("inlineCode",{parentName:"a"},"cypress.env.json")),",\nthese should also be ignored when you check into source control.")),(0,a.kt)("h3",{id:"Spec-files"},"Spec files"),(0,a.kt)("p",null,"Test files are located in ",(0,a.kt)("inlineCode",{parentName:"p"},"cypress/e2e")," by default, but can be\n",(0,a.kt)("a",{parentName:"p",href:"/guides/references/configuration#Folders-Files"},"configured")," to another\ndirectory. Test files may be written as:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},".js")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},".jsx")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},".ts")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},".tsx")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},".coffee")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},".cjsx"))),(0,a.kt)("p",null,"Cypress also supports ",(0,a.kt)("inlineCode",{parentName:"p"},"ES2015")," out of the box. You can use either\n",(0,a.kt)("inlineCode",{parentName:"p"},"ES2015 modules")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"CommonJS modules"),". This means you can ",(0,a.kt)("inlineCode",{parentName:"p"},"import")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"require"),"\nboth ",(0,a.kt)("strong",{parentName:"p"},"npm packages")," and ",(0,a.kt)("strong",{parentName:"p"},"local relative modules"),"."),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("strong",null,"Example Recipe"),(0,a.kt)("p",{parentName:"admonition"},"Check out our recipe using\n",(0,a.kt)("a",{parentName:"p",href:"/examples/recipes#Fundamentals"},"ES2015 and CommonJS modules"),".")),(0,a.kt)("p",null,"To see an example of every command used in Cypress, open the\n",(0,a.kt)("a",{parentName:"p",href:"https://github.com/cypress-io/cypress-example-kitchensink/tree/master/cypress/e2e/2-advanced-examples"},(0,a.kt)("inlineCode",{parentName:"a"},"2-advanced-examples")," folder"),"\nwithin your ",(0,a.kt)("inlineCode",{parentName:"p"},"cypress/e2e")," folder."),(0,a.kt)("h3",{id:"Fixture-Files"},"Fixture Files"),(0,a.kt)("p",null,"Fixtures are used as external pieces of static data that can be used by your\ntests. Fixture files are located in ",(0,a.kt)("inlineCode",{parentName:"p"},"cypress/fixtures")," by default, but can be\n",(0,a.kt)("a",{parentName:"p",href:"/guides/references/configuration#Folders-Files"},"configured")," to another\ndirectory."),(0,a.kt)("p",null,"You would typically use them with the ",(0,a.kt)("a",{parentName:"p",href:"/api/commands/fixture"},(0,a.kt)("inlineCode",{parentName:"a"},"cy.fixture()")),"\ncommand and most often when you're stubbing\n",(0,a.kt)("a",{parentName:"p",href:"/guides/guides/network-requests"},"Network Requests"),"."),(0,a.kt)("h3",{id:"Asset-Files"},"Asset Files"),(0,a.kt)("p",null,"There are some folders that may be generated after a test run, containing assets\nthat were generated during the test run."),(0,a.kt)("p",null,"You may consider adding these folders to your ",(0,a.kt)("inlineCode",{parentName:"p"},".gitignore")," file to ignore\nchecking these files into source control."),(0,a.kt)("h4",{id:"Download-Files"},"Download Files"),(0,a.kt)("p",null,"Any files downloaded while testing an application's file download feature will\nbe stored in the ",(0,a.kt)("a",{parentName:"p",href:"/guides/references/configuration#Downloads"},(0,a.kt)("inlineCode",{parentName:"a"},"downloadsFolder")),"\nwhich is set to ",(0,a.kt)("inlineCode",{parentName:"p"},"cypress/downloads")," by default."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-text"},"/cypress\n  /downloads\n    - records.csv\n")),(0,a.kt)("h4",{id:"Screenshot-Files"},"Screenshot Files"),(0,a.kt)("p",null,"If screenshots were taken via the ",(0,a.kt)("a",{parentName:"p",href:"/api/commands/screenshot"},"cy.screenshot()"),"\ncommand or automatically when a test fails, the screenshots are stored in the\n",(0,a.kt)("a",{parentName:"p",href:"/guides/references/configuration#Screenshots"},(0,a.kt)("inlineCode",{parentName:"a"},"screenshotsFolder"))," which is set\nto ",(0,a.kt)("inlineCode",{parentName:"p"},"cypress/screenshots")," by default."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-text"},"/cypress\n  /screenshots\n    /app.cy.js\n      - Navigates to main menu (failures).png\n")),(0,a.kt)("p",null,"To learn more about screenshots and settings available, see\n",(0,a.kt)("a",{parentName:"p",href:"/guides/guides/screenshots-and-videos#Screenshots"},"Screenshots and Videos")),(0,a.kt)("h4",{id:"Video-Files"},"Video Files"),(0,a.kt)("p",null,"Any videos recorded of the run are stored in the\n",(0,a.kt)("a",{parentName:"p",href:"/guides/references/configuration#Videos"},(0,a.kt)("inlineCode",{parentName:"a"},"videosFolder"))," which is set to\n",(0,a.kt)("inlineCode",{parentName:"p"},"cypress/videos")," by default."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-text"},"/cypress\n  /videos\n    - app.cy.js.mp4\n")),(0,a.kt)("h4",{id:"Asset-File-Paths"},"Asset File Paths"),(0,a.kt)("p",null,"Generated screenshots and videos are saved inside their respective folders\n(",(0,a.kt)("inlineCode",{parentName:"p"},"cypress/screenshots"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"cypress/videos"),"). The paths of the generated files will\nbe stripped of any common ancestor paths shared between all spec files found by\nthe ",(0,a.kt)("inlineCode",{parentName:"p"},"specPattern")," option (or via the ",(0,a.kt)("inlineCode",{parentName:"p"},"--spec")," command line option or ",(0,a.kt)("inlineCode",{parentName:"p"},"spec"),"\nmodule API option, if specified)"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Example 1:")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Spec file found",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"cypress/e2e/path/to/file/one.cy.js")))),(0,a.kt)("li",{parentName:"ul"},"Common ancestor paths (calculated at runtime)",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"cypress/e2e/path/to/file")))),(0,a.kt)("li",{parentName:"ul"},"Generated screenshot file",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"cypress/screenshots/one.cy.js/your-screenshot.png")))),(0,a.kt)("li",{parentName:"ul"},"Generated video file",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"cypress/videos/one.cy.js.mp4"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Example 2:")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Spec files found",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"cypress/e2e/path/to/file/one.cy.js")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"cypress/e2e/path/to/two.cy.js")))),(0,a.kt)("li",{parentName:"ul"},"Common ancestor paths (calculated at runtime)",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"cypress/e2e/path/to/")))),(0,a.kt)("li",{parentName:"ul"},"Generated screenshot files",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"cypress/screenshots/file/one.cy.js/your-screenshot.png")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"cypress/screenshots/two.cy.js/your-screenshot.png")))),(0,a.kt)("li",{parentName:"ul"},"Generated video files",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"cypress/videos/file/one.cy.js.mp4")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"cypress/videos/two.cy.js.mp4"))))),(0,a.kt)("h4",{id:"Assets-in-Cypress-Cloud"},"Assets in Cypress Cloud"),(0,a.kt)(h,{src:"/img/guides/cloud/test-replay/test-replay-ui.png",alt:"View of Test Replay",mdxType:"DocsImage"}),(0,a.kt)("p",null,"Instead of administering assets yourself, you can\n",(0,a.kt)("a",{parentName:"p",href:"/guides/cloud/recorded-runs#Run-Details"},"save them to the cloud with Cypress Cloud"),"."),(0,a.kt)("p",null,"Replay the test as it executed during the recorded run with full debug capability using ",(0,a.kt)("a",{parentName:"p",href:"/guides/cloud/test-replay"},(0,a.kt)(f,{src:"/img/guides/cloud/test-replay/replay-icon.svg",mdxType:"Logo"})," Test Replay"),"."),(0,a.kt)("p",null,"Screenshots and videos are stored permanently, attached to their respective test\nresults, and easily shared or browsed through our web interface. To learn more about videos and settings available, see\n",(0,a.kt)("a",{parentName:"p",href:"/guides/guides/screenshots-and-videos#Screenshots"},"Screenshots and Videos"),"."),(0,a.kt)("h3",{id:"Plugins-file"},"Plugins file"),(0,a.kt)(g,{mdxType:"WarningPluginsFile"}),(0,a.kt)("p",null,"The plugins file is a special file that executes in Node before the project is\nloaded, before the browser launches, and during your test execution. While the\nCypress tests execute in the browser, the plugins file runs in the background\nNode process, giving your tests the ability to access the file system and the\nrest of the operating system by calling the ",(0,a.kt)("a",{parentName:"p",href:"/api/commands/task"},"cy.task()"),"\ncommand."),(0,a.kt)("p",null,"The plugins file is a good place to define how you want to bundle the spec files\nvia the ",(0,a.kt)("a",{parentName:"p",href:"/api/plugins/preprocessors-api"},"preprocessors"),", how to find and launch\nthe browsers via the ",(0,a.kt)("a",{parentName:"p",href:"/api/plugins/browser-launch-api"},"browser launch API"),", and\nother cool things. Read our ",(0,a.kt)("a",{parentName:"p",href:"/guides/tooling/plugins-guide"},"plugins guide")," for\nmore details and examples."),(0,a.kt)("p",null,"The initial imported plugins file can be\n",(0,a.kt)("a",{parentName:"p",href:"/guides/references/configuration#Folders-Files"},"configured to another file"),"."),(0,a.kt)("h3",{id:"Support-file"},"Support file"),(0,a.kt)("p",null,"To include code before your test files, set the\n",(0,a.kt)("a",{parentName:"p",href:"/guides/references/configuration#Testing-Type-Specific-Options"},(0,a.kt)("inlineCode",{parentName:"a"},"supportFile")),"\npath. By default,\n",(0,a.kt)("a",{parentName:"p",href:"/guides/references/configuration#Testing-Type-Specific-Options"},(0,a.kt)("inlineCode",{parentName:"a"},"supportFile")),"\nis set to look for one of the following files:"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Component:")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"cypress/support/component.js")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"cypress/support/component.jsx")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"cypress/support/component.ts")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"cypress/support/component.tsx"))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"E2E:")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"cypress/support/e2e.js")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"cypress/support/e2e.jsx")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"cypress/support/e2e.ts")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"cypress/support/e2e.tsx"))),(0,a.kt)("admonition",{type:"danger"},(0,a.kt)("p",{parentName:"admonition"},"\xa0",(0,a.kt)(c,{name:"exclamation-triangle",mdxType:"Icon"})," For a given testing type, multiple\nmatching ",(0,a.kt)("inlineCode",{parentName:"p"},"supportFile")," files will result in an error when Cypress loads.")),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("strong",null,(0,a.kt)(c,{name:"cogs",mdxType:"Icon"})," supportFile per testing type"),(0,a.kt)("p",{parentName:"admonition"},"Depending on which ",(0,a.kt)("a",{parentName:"p",href:"/guides/core-concepts/testing-types"},"testing type")," you are\nusing, you can configure your ",(0,a.kt)("inlineCode",{parentName:"p"},"supportFile")," accordingly."),(0,a.kt)("ul",{parentName:"admonition"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/guides/references/configuration#component"},"Component")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/guides/references/configuration#e2e"},"E2E")))),(0,a.kt)("p",null,"Cypress automatically creates an example support file for each configured\ntesting type, which has several commented out examples."),(0,a.kt)("p",null,"This file runs ",(0,a.kt)("strong",{parentName:"p"},"before")," every single spec file. We do this purely as a\nconvenience mechanism so you don't have to import this file."),(0,a.kt)("p",null,"By default Cypress will automatically include type-specific support files. For\nE2E, the default is ",(0,a.kt)("inlineCode",{parentName:"p"},"cypress/support/e2e.{js,jsx,ts,tsx}"),", and for Component\nTesting ",(0,a.kt)("inlineCode",{parentName:"p"},"cypress/support/component.{js,jsx,ts,tsx}"),"."),(0,a.kt)("p",null,"The support file is a great place to put reusable behavior such as\n",(0,a.kt)("a",{parentName:"p",href:"/api/cypress-api/custom-commands"},"custom commands")," or global overrides that you\nwant applied and available to all of your spec files."),(0,a.kt)("p",null,"The initial imported support file can be configured to another file or turned\noff completely using the\n",(0,a.kt)("a",{parentName:"p",href:"/guides/references/configuration#Folders-Files"},"supportFile")," configuration.\nFrom your support file you can ",(0,a.kt)("inlineCode",{parentName:"p"},"import")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"require")," other files to keep things\norganized."),(0,a.kt)("p",null,"You can define behaviors in a ",(0,a.kt)("inlineCode",{parentName:"p"},"before")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"beforeEach")," within any of the\n",(0,a.kt)("inlineCode",{parentName:"p"},"cypress/support")," files:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"beforeEach(() => {\n  cy.log('I run before every test in every spec file!!!!!!')\n})\n")),(0,a.kt)(h,{src:"/img/guides/core-concepts/global-hooks.png",alt:"Global hooks for tests",mdxType:"DocsImage"}),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("strong",{parentName:"p"},"Note:")," This example assumes you are already familiar with Mocha\n",(0,a.kt)("a",{parentName:"p",href:"/guides/core-concepts/writing-and-organizing-tests#Hooks"},"hooks"),".")),(0,a.kt)("h4",{id:"Execution"},"Execution"),(0,a.kt)("p",null,"Cypress executes the support file before the spec file. For example, when\nCypress executes a spec file via ",(0,a.kt)("inlineCode",{parentName:"p"},"cypress open")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"cypress run"),", it executes\nthe files in the following order:"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"e2e example:")),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"support/e2e.js")," (your support file)"),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"e2e/spec-a.cy.js")," (your spec file)")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"component example:")),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"support/component.js")," (your support file)"),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"components/Button/Button.cy.js")," (your spec file)")),(0,a.kt)("h3",{id:"Troubleshooting"},"Troubleshooting"),(0,a.kt)("p",null,"If Cypress does not find the spec files for some reason, you can troubleshoot\nits logic by opening or running Cypress with\n",(0,a.kt)("a",{parentName:"p",href:"/guides/references/troubleshooting#Print-DEBUG-logs"},"debug logs")," enabled:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"DEBUG=cypress:server:specs npx cypress open\n## or\nDEBUG=cypress:server:specs npx cypress run\n")),(0,a.kt)("h2",{id:"Writing-tests"},"Writing tests"),(0,a.kt)("p",null,"Cypress is built on top of ",(0,a.kt)("a",{parentName:"p",href:"/guides/references/bundled-libraries#Mocha"},"Mocha"),"\nand ",(0,a.kt)("a",{parentName:"p",href:"/guides/references/bundled-libraries#Chai"},"Chai"),". We support both Chai's\n",(0,a.kt)("inlineCode",{parentName:"p"},"BDD")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"TDD")," assertion styles. Tests you write in Cypress will mostly adhere\nto this style."),(0,a.kt)("p",null,"If you're familiar with writing tests in JavaScript, then writing tests in\nCypress will be a breeze."),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"To start writing tests for your app, follow our guides for writing your first\n",(0,a.kt)("a",{parentName:"p",href:"/guides/component-testing/overview"},"Component")," or\n",(0,a.kt)("a",{parentName:"p",href:"/guides/end-to-end-testing/writing-your-first-end-to-end-test"},"End-to-End"),"\ntest.")),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Needing a low code approach to create tests? Use\n",(0,a.kt)("a",{parentName:"p",href:"/guides/references/cypress-studio"},"Cypress Studio")," to record your browser\ninteractions.")),(0,a.kt)("h3",{id:"Test-Structure"},"Test Structure"),(0,a.kt)("p",null,"The test interface, borrowed from\n",(0,a.kt)("a",{parentName:"p",href:"/guides/references/bundled-libraries#Mocha"},"Mocha"),", provides ",(0,a.kt)("inlineCode",{parentName:"p"},"describe()"),",\n",(0,a.kt)("inlineCode",{parentName:"p"},"context()"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"it()")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"specify()"),"."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"context()")," is identical to ",(0,a.kt)("inlineCode",{parentName:"p"},"describe()")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"specify()")," is identical to ",(0,a.kt)("inlineCode",{parentName:"p"},"it()"),",\nso choose whatever terminology works best for you."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"// -- Start: Our Application Code --\nfunction add(a, b) {\n  return a + b\n}\n\nfunction subtract(a, b) {\n  return a - b\n}\n\nfunction divide(a, b) {\n  return a / b\n}\n\nfunction multiply(a, b) {\n  return a * b\n}\n// -- End: Our Application Code --\n\n// -- Start: Our Cypress Tests --\ndescribe('Unit test our math functions', () => {\n  context('math', () => {\n    it('can add numbers', () => {\n      expect(add(1, 2)).to.eq(3)\n    })\n\n    it('can subtract numbers', () => {\n      expect(subtract(5, 12)).to.eq(-7)\n    })\n\n    specify('can divide numbers', () => {\n      expect(divide(27, 9)).to.eq(3)\n    })\n\n    specify('can multiply numbers', () => {\n      expect(multiply(5, 4)).to.eq(20)\n    })\n  })\n})\n// -- End: Our Cypress Tests --\n")),(0,a.kt)("h3",{id:"Hooks"},"Hooks"),(0,a.kt)("p",null,"Cypress also provides hooks (borrowed from\n",(0,a.kt)("a",{parentName:"p",href:"/guides/references/bundled-libraries#Mocha"},"Mocha"),")."),(0,a.kt)("p",null,"These are helpful to set conditions that you want to run before a set of tests\nor before each test. They're also helpful to clean up conditions after a set of\ntests or after each test."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"before(() => {\n  // root-level hook\n  // runs once before all tests\n})\n\nbeforeEach(() => {\n  // root-level hook\n  // runs before every test block\n})\n\nafterEach(() => {\n  // runs after each test block\n})\n\nafter(() => {\n  // runs once all tests are done\n})\n\ndescribe('Hooks', () => {\n  before(() => {\n    // runs once before all tests in the block\n  })\n\n  beforeEach(() => {\n    // runs before each test in the block\n  })\n\n  afterEach(() => {\n    // runs after each test in the block\n  })\n\n  after(() => {\n    // runs once after all tests in the block\n  })\n})\n")),(0,a.kt)("h4",{id:"The-order-of-hook-and-test-execution-is-as-follows"},"The order of hook and test execution is as follows:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"All ",(0,a.kt)("inlineCode",{parentName:"li"},"before()")," hooks run (once)"),(0,a.kt)("li",{parentName:"ul"},"Any ",(0,a.kt)("inlineCode",{parentName:"li"},"beforeEach()")," hooks run"),(0,a.kt)("li",{parentName:"ul"},"Tests run"),(0,a.kt)("li",{parentName:"ul"},"Any ",(0,a.kt)("inlineCode",{parentName:"li"},"afterEach()")," hooks run"),(0,a.kt)("li",{parentName:"ul"},"All ",(0,a.kt)("inlineCode",{parentName:"li"},"after()")," hooks run (once)")),(0,a.kt)("admonition",{type:"danger"},(0,a.kt)("p",{parentName:"admonition"},"\ud83d\udea8 Before writing ",(0,a.kt)("inlineCode",{parentName:"p"},"after()")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"afterEach()")," hooks, please see our\n",(0,a.kt)("a",{parentName:"p",href:"/guides/references/best-practices#Using-after-or-afterEach-hooks"},"thoughts on the anti-pattern of cleaning up state with ",(0,a.kt)("inlineCode",{parentName:"a"},"after()")," or ",(0,a.kt)("inlineCode",{parentName:"a"},"afterEach()")),".")),(0,a.kt)("h3",{id:"Excluding-and-Including-Tests"},"Excluding and Including Tests"),(0,a.kt)("p",null,"To run a specified suite or test, append ",(0,a.kt)("inlineCode",{parentName:"p"},".only")," to the function. All nested\nsuites will also be executed. This gives us the ability to run one test at a\ntime and is the recommended way to write a test suite."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"// -- Start: Our Application Code --\nfunction fizzbuzz(num) {\n  if (num % 3 === 0 && num % 5 === 0) {\n    return 'fizzbuzz'\n  }\n\n  if (num % 3 === 0) {\n    return 'fizz'\n  }\n\n  if (num % 5 === 0) {\n    return 'buzz'\n  }\n}\n// -- End: Our Application Code --\n\n// -- Start: Our Cypress Tests --\ndescribe('Unit Test FizzBuzz', () => {\n  function numsExpectedToEq(arr, expected) {\n    // loop through the array of nums and make\n    // sure they equal what is expected\n    arr.forEach((num) => {\n      expect(fizzbuzz(num)).to.eq(expected)\n    })\n  }\n\n  // highlight-start\n  it.only('returns \"fizz\" when number is multiple of 3', () => {\n    numsExpectedToEq([9, 12, 18], 'fizz')\n  })\n  // highlight-end\n\n  it('returns \"buzz\" when number is multiple of 5', () => {\n    numsExpectedToEq([10, 20, 25], 'buzz')\n  })\n\n  it('returns \"fizzbuzz\" when number is multiple of both 3 and 5', () => {\n    numsExpectedToEq([15, 30, 60], 'fizzbuzz')\n  })\n})\n")),(0,a.kt)("p",null,"To skip a specified suite or test, append ",(0,a.kt)("inlineCode",{parentName:"p"},".skip()")," to the function. All nested\nsuites will also be skipped."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"it.skip('returns \"fizz\" when number is multiple of 3', () => {\n  numsExpectedToEq([9, 12, 18], 'fizz')\n})\n")),(0,a.kt)("h3",{id:"Test-Isolation"},"Test Isolation"),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"\xa0",(0,a.kt)(c,{name:"check-circle",color:"green",mdxType:"Icon"})," ",(0,a.kt)("strong",{parentName:"p"},"Best Practice:")," Tests should\nalways be able to be run independently from one another ",(0,a.kt)("strong",{parentName:"p"},"and still pass"),".")),(0,a.kt)("p",null,"As stated in our mission, we hold ourselves accountable to champion a testing\nprocess that actually works, and have built Cypress to guide developers towards\nwriting independent tests from the start."),(0,a.kt)("p",null,"We do this by cleaning up test state and the browser context ",(0,a.kt)("em",{parentName:"p"},"before")," each test\nto ensure that the operation of one test does not affect another test later on.\nThe goal for each test should be to ",(0,a.kt)("strong",{parentName:"p"},"reliably pass")," whether run in isolation\nor consecutively with other tests. Having tests that depend on the state of an\nearlier test can potentially cause nondeterministic test failures which makes\ndebugging challenging."),(0,a.kt)("p",null,"The behavior of running tests in a clean browser context is described as\n",(0,a.kt)("inlineCode",{parentName:"p"},"testIsolation"),"."),(0,a.kt)("p",null,"The test isolation is a global configuration and can be overridden for\nend-to-end testing at the ",(0,a.kt)("inlineCode",{parentName:"p"},"describe")," level with the\n",(0,a.kt)("a",{parentName:"p",href:"/guides/references/configuration#e2e"},(0,a.kt)("inlineCode",{parentName:"a"},"testIsolation"))," option."),(0,a.kt)("p",null,"To learn more about this behavior and the trade-offs of disabling it, review our\n",(0,a.kt)("a",{parentName:"p",href:"/guides/core-concepts/test-isolation"},"Test Isolation guide"),"."),(0,a.kt)("h3",{id:"Test-Configuration"},"Test Configuration"),(0,a.kt)("p",null,"It is possible to apply\n",(0,a.kt)("a",{parentName:"p",href:"/guides/references/configuration#Test-Configuration"},"test configuration")," values\nto a suite or test. Pass a configuration object to the test or suite function as\nthe second argument."),(0,a.kt)("p",null,"This configuration will take effect during the suite or tests where they are set\nthen return to their previous default values after the suite or tests are\ncomplete."),(0,a.kt)("h4",{id:"Syntax"},"Syntax"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"describe(name, config, fn)\ncontext(name, config, fn)\nit(name, config, fn)\nspecify(name, config, fn)\n")),(0,a.kt)("h4",{id:"Allowed-config-values"},"Allowed config values"),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("strong",{parentName:"p"},"Note:")," Some configuration values are readonly and cannot be changed via test\nconfiguration. Be sure to review the list of\n",(0,a.kt)("a",{parentName:"p",href:"/guides/references/configuration##Test-Configuration"},"test configuration options"),".")),(0,a.kt)("h4",{id:"Suite-configuration"},"Suite configuration"),(0,a.kt)("p",null,"If you want to target a suite of tests to run or be excluded when run in a\nspecific browser, you can override the ",(0,a.kt)("inlineCode",{parentName:"p"},"browser")," configuration within the suite\nconfiguration. The ",(0,a.kt)("inlineCode",{parentName:"p"},"browser")," option accepts the same arguments as\n",(0,a.kt)("a",{parentName:"p",href:"/api/cypress-api/isbrowser"},"Cypress.isBrowser()"),"."),(0,a.kt)("p",null,"The following suite of tests will be skipped if running tests in Chrome\nbrowsers."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"describe('When NOT in Chrome', { browser: '!chrome' }, () => {\n  it('Shows warning', () => {\n    cy.get('[data-testid=\"browser-warning\"]').should(\n      'contain',\n      'For optimal viewing, use Chrome browser'\n    )\n  })\n\n  it('Links to browser compatibility doc', () => {\n    cy.get('a.browser-compat')\n      .should('have.attr', 'href')\n      .and('include', 'browser-compatibility')\n  })\n})\n")),(0,a.kt)("p",null,"The following suite of tests will only execute when running in the Firefox\nbrowser. It will overwrite the viewport resolution in one of the tests, and will\nmerge any current environment variables with the provided ones."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"describe(\n  'When in Firefox',\n  {\n    browser: 'firefox',\n    viewportWidth: 1024,\n    viewportHeight: 700,\n    env: {\n      DEMO: true,\n      API: 'http://localhost:9000',\n    },\n  },\n  () => {\n    it('Sets the expected viewport and API URL', () => {\n      expect(cy.config('viewportWidth')).to.equal(1024)\n      expect(cy.config('viewportHeight')).to.equal(700)\n      expect(cy.env('API')).to.equal('http://localhost:9000')\n    })\n\n    it(\n      'Uses the closest API environment variable',\n      {\n        env: {\n          API: 'http://localhost:3003',\n        },\n      },\n      () => {\n        expect(cy.env('API')).to.equal('http://localhost:3003')\n        // other environment variables remain unchanged\n        expect(cy.env('DEMO')).to.be.true\n      }\n    )\n  }\n)\n")),(0,a.kt)("h4",{id:"Single-test-configuration"},"Single test configuration"),(0,a.kt)("p",null,"You can configure the number of retry attempts during ",(0,a.kt)("inlineCode",{parentName:"p"},"cypress run")," or\n",(0,a.kt)("inlineCode",{parentName:"p"},"cypress open"),". See ",(0,a.kt)("a",{parentName:"p",href:"/guides/guides/test-retries"},"Test Retries")," for more\ninformation."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"it('should redirect unauthenticated user to sign-in page', {\n    retries: {\n      runMode: 3,\n      openMode: 2\n    }\n  } () => {\n    // test code...\n  })\n})\n")),(0,a.kt)("h3",{id:"Dynamically-Generate-Tests"},"Dynamically Generate Tests"),(0,a.kt)("p",null,"You can dynamically generate tests using JavaScript."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"describe('if your app uses jQuery', () => {\n  ;['mouseover', 'mouseout', 'mouseenter', 'mouseleave'].forEach((event) => {\n    it('triggers event: ' + event, () => {\n      // if your app uses jQuery, then we can trigger a jQuery\n      // event that causes the event callback to fire\n      cy.get('#with-jquery')\n        .invoke('trigger', event)\n        .get('[data-testid=\"messages\"]')\n        .should('contain', 'the event ' + event + 'was fired')\n    })\n  })\n})\n")),(0,a.kt)("p",null,"The code above will produce a suite with 4 tests:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-text"},"> if your app uses jQuery\n  > triggers event: 'mouseover'\n  > triggers event: 'mouseout'\n  > triggers event: 'mouseenter'\n  > triggers event: 'mouseleave'\n")),(0,a.kt)("h3",{id:"Assertion-Styles"},"Assertion Styles"),(0,a.kt)("p",null,"Cypress supports both BDD (",(0,a.kt)("inlineCode",{parentName:"p"},"expect"),"/",(0,a.kt)("inlineCode",{parentName:"p"},"should"),") and TDD (",(0,a.kt)("inlineCode",{parentName:"p"},"assert"),") style plain\nassertions. ",(0,a.kt)("a",{parentName:"p",href:"/guides/references/assertions"},"Read more about plain assertions.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"it('can add numbers', () => {\n  expect(add(1, 2)).to.eq(3)\n})\n\nit('can subtract numbers', () => {\n  assert.equal(subtract(5, 12), -7, 'these numbers are equal')\n})\n")),(0,a.kt)("p",null,"The ",(0,a.kt)("a",{parentName:"p",href:"/api/commands/should"},".should()")," command and its alias\n",(0,a.kt)("a",{parentName:"p",href:"/api/commands/and"},".and()")," can also be used to more easily chain assertions off\nof Cypress commands.\n",(0,a.kt)("a",{parentName:"p",href:"/guides/core-concepts/introduction-to-cypress#Assertions"},"Read more about assertions.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"cy.wrap(add(1, 2)).should('equal', 3)\n")),(0,a.kt)("h2",{id:"Running-tests"},"Running tests"),(0,a.kt)("p",null,"You can run a test by clicking on the spec filename. For example the\n",(0,a.kt)("a",{parentName:"p",href:"https://github.com/cypress-io/cypress-example-realworld"},"Cypress RealWorld App"),'\nhas multiple test files, but below we run the "new-transaction.spec.ts" test\nfile by clicking on it.'),(0,a.kt)(h,{src:"/img/guides/core-concepts/run-single-spec.gif",alt:"Running a single spec",mdxType:"DocsImage"}),(0,a.kt)("h2",{id:"Test-statuses"},"Test statuses"),(0,a.kt)("p",null,"After the Cypress spec completes every test has one of four statuses:\n",(0,a.kt)("strong",{parentName:"p"},"passed"),", ",(0,a.kt)("strong",{parentName:"p"},"failed"),", ",(0,a.kt)("strong",{parentName:"p"},"pending"),", or ",(0,a.kt)("strong",{parentName:"p"},"skipped"),". The behavior of these\nstatuses are inherited from the Mocha, since this is the test runner leveraged\nby Cypress."),(0,a.kt)("h3",{id:"Passed"},"Passed"),(0,a.kt)("p",null,"Passed tests have successfully completed all their hooks and commands without\nfailing any assertions. The test screenshot below shows a passed test:"),(0,a.kt)(h,{src:"/img/guides/core-concepts/todo-mvc-passing-test.png",alt:"Cypress with a single passed test",mdxType:"DocsImage"}),(0,a.kt)("p",null,"Note that a test can pass after several\n",(0,a.kt)("a",{parentName:"p",href:"/guides/guides/test-retries"},"test retries"),". In that case the Command Log shows\nsome failed attempts, but ultimately the entire test finishes successfully."),(0,a.kt)("h3",{id:"Failed"},"Failed"),(0,a.kt)("p",null,"Good news - the failed hook or test has found a problem. Could be much worse -\nit could be a user hitting this bug!"),(0,a.kt)(h,{src:"/img/guides/core-concepts/todo-mvc-failing-test.png",alt:"Cypress with a single failed test",mdxType:"DocsImage"}),(0,a.kt)("p",null,"After a test fails, the ",(0,a.kt)("a",{parentName:"p",href:"/guides/cloud/test-replay"},"Test Replay")," or screenshots and videos with Cypress Cloud can help find the problem so it\ncan be fixed."),(0,a.kt)("h3",{id:"Pending"},"Pending"),(0,a.kt)("p",null,"You can write ",(0,a.kt)("em",{parentName:"p"},"placeholder")," tests in several ways as shown below, and Cypress\nknows NOT to run them. Additionally, you can conditionally specify which\nbrowser(s) and tests should run, including if the test should not run for the\nbrowser currently being tested, it is marked as ",(0,a.kt)("em",{parentName:"p"},"pending"),"."),(0,a.kt)("p",null,"Cypress marks all the tests below as ",(0,a.kt)("em",{parentName:"p"},"pending"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"describe('TodoMVC', () => {\n  it('is not written yet')\n\n  it.skip('adds 2 todos', function () {\n    cy.visit('/')\n    cy.get('[data-testid=\"new-todo\"]').as('new').type('learn testing{enter}')\n\n    cy.get('@new').type('be cool{enter}')\n\n    cy.get('[data-testid=\"todo-list\"] li').should('have.length', 100)\n  })\n\n  xit('another test', () => {\n    expect(false).to.true\n  })\n\n  it('only test chrome', { browser: 'chrome' }, () => {\n    cy.visit('/')\n    cy.contains('To Do')\n  })\n})\n")),(0,a.kt)("p",null,"All four tests above are marked ",(0,a.kt)("em",{parentName:"p"},"pending")," when Cypress finishes running the spec\nfile."),(0,a.kt)(h,{src:"/img/guides/core-concepts/todo-mvc-pending-tests.png",alt:"Cypress with four pending test",mdxType:"DocsImage"}),(0,a.kt)("p",null,"So remember - if you (the test writer) knowingly skip a test using one of the\nabove three ways, Cypress counts it as a ",(0,a.kt)("em",{parentName:"p"},"pending")," test."),(0,a.kt)("h3",{id:"Skipped"},"Skipped"),(0,a.kt)("p",null,"The last test status is for tests that you ",(0,a.kt)("em",{parentName:"p"},"meant")," to run, but these tests were\nskipped due to some run-time error. For example, imagine a group of tests\nsharing the same ",(0,a.kt)("inlineCode",{parentName:"p"},"beforeEach")," hook - where you visit the page in the\n",(0,a.kt)("inlineCode",{parentName:"p"},"beforeEach")," hook."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"/// <reference types=\"cypress\" />\n\ndescribe('TodoMVC', () => {\n  beforeEach(() => {\n    cy.visit('/')\n  })\n\n  it('hides footer initially', () => {\n    cy.get('[data-testid=\"filters\"]').should('not.exist')\n  })\n\n  it('adds 2 todos', () => {\n    cy.get('[data-testid=\"new-todo\"]').as('new').type('learn testing{enter}')\n\n    cy.get('@new').type('be cool{enter}')\n\n    cy.get('[data-testid=\"todo-list\"] li').should('have.length', 2)\n  })\n})\n")),(0,a.kt)("p",null,"If the ",(0,a.kt)("inlineCode",{parentName:"p"},"beforeEach")," hook completes and both tests finish, two tests are passing."),(0,a.kt)(h,{src:"/img/guides/core-concepts/todo-mvc-2-tests-passing.png",alt:"Cypress showing two passing tests",mdxType:"DocsImage"}),(0,a.kt)("p",null,"But what happens if a command inside the ",(0,a.kt)("inlineCode",{parentName:"p"},"beforeEach")," hook fails? For example,\nlet's pretend we want to visit a non-existent page ",(0,a.kt)("inlineCode",{parentName:"p"},"/does-not-exist")," instead of\nthe ",(0,a.kt)("inlineCode",{parentName:"p"},"/"),". If we change our ",(0,a.kt)("inlineCode",{parentName:"p"},"beforeEach")," to fail:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"beforeEach(() => {\n  cy.visit('/does-not-exist')\n})\n")),(0,a.kt)("p",null,"When Cypress starts executing the first test, the ",(0,a.kt)("inlineCode",{parentName:"p"},"beforeEach")," hook fails. Now\nthe first test is marked as ",(0,a.kt)("strong",{parentName:"p"},"failed"),". BUT if the ",(0,a.kt)("inlineCode",{parentName:"p"},"beforeEach")," hook failed\nonce, why would we execute it ",(0,a.kt)("em",{parentName:"p"},"again")," before the second test? It would just fail\nthe same way! So Cypress ",(0,a.kt)("em",{parentName:"p"},"skips")," the remaining tests in that block, because they\nwould also fail due to the ",(0,a.kt)("inlineCode",{parentName:"p"},"beforeEach")," hook failure."),(0,a.kt)(h,{src:"/img/guides/core-concepts/todo-mvc-failed-and-skipped-tests.png",alt:"Cypress showing one failed and one skipped test",mdxType:"DocsImage"}),(0,a.kt)("p",null,'If we collapse the test commands, we can see the empty box marking the skipped\ntest "adds 2 todos".'),(0,a.kt)(h,{src:"/img/guides/core-concepts/todo-mvc-skipped-test.png",alt:"Cypress showing one skipped test",mdxType:"DocsImage"}),(0,a.kt)("p",null,'The tests that were meant to be executed but were skipped due to some run-time\nproblem are marked "skipped" by Cypress. This is typically observed when a\n',(0,a.kt)("inlineCode",{parentName:"p"},"before"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"beforeEach")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"afterEach")," hook fails."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Tip:")," read the blog post\n",(0,a.kt)("a",{parentName:"p",href:"https://glebbahmutov.com/blog/writing-tests-progress/"},"Writing Test Progress"),"\nto learn how to use the pending tests to tracking the test strategy\nimplementation."),(0,a.kt)("h2",{id:"Watching-tests"},"Watching tests"),(0,a.kt)("p",null,"When running in using ",(0,a.kt)("a",{parentName:"p",href:"/guides/guides/command-line#cypress-open"},"cypress open"),",\nCypress watches the filesystem for changes to your spec files. Soon after adding\nor updating a test Cypress will reload it and run all of the tests in that spec\nfile."),(0,a.kt)("p",null,"This makes for a productive development experience because you can add and edit\ntests as you're implementing a feature and the Cypress user interface will\nalways reflect the results of your latest edits."),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Remember to use\n",(0,a.kt)("a",{parentName:"p",href:"/guides/core-concepts/writing-and-organizing-tests#Excluding-and-Including-Tests"},(0,a.kt)("inlineCode",{parentName:"a"},".only")),"\nto limit which tests are run: this can be especially useful when you've got a\nlot of tests in a single spec file that you're constantly editing; consider also\nsplitting your tests into smaller files each dealing with logically related\nbehavior.")),(0,a.kt)("h3",{id:"What-is-watched"},"What is watched?"),(0,a.kt)("h4",{id:"Files"},"Files"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/guides/references/configuration"},"Cypress configuration")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/guides/guides/environment-variables"},"cypress.env.json"))),(0,a.kt)("h4",{id:"Folders"},"Folders"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"E2E directory (",(0,a.kt)("inlineCode",{parentName:"li"},"cypress/e2e/")," by default)"),(0,a.kt)("li",{parentName:"ul"},"Support directory (",(0,a.kt)("inlineCode",{parentName:"li"},"cypress/support/")," by default)")),(0,a.kt)("p",null,"The folder, the files within the folder, and all child folders and their files\n(recursively) are watched."),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Those folder paths refer to the\n",(0,a.kt)("a",{parentName:"p",href:"/guides/references/configuration#Folders-Files"},"default folder paths"),". If\nyou've configured Cypress to use different folder paths then the folders\nspecific to your configuration will be watched.")),(0,a.kt)("h3",{id:"What-isnt-watched"},"What isn't watched?"),(0,a.kt)("p",null,"Everything else; this includes, but isn't limited to, the following:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Your application code"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"node_modules")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"cypress/fixtures/"))),(0,a.kt)("p",null,"If you're developing using a modern JS-based web application stack then you've\nlikely got support for some form of hot module replacement which is responsible\nfor watching your application code","\u2014","HTML, CSS, JS, etc.","\u2014","and\ntransparently reloading your application in response to changes."),(0,a.kt)("h3",{id:"Configuration"},"Configuration"),(0,a.kt)("p",null,"Set the ",(0,a.kt)("a",{parentName:"p",href:"/guides/references/configuration#Global"},(0,a.kt)("inlineCode",{parentName:"a"},"watchForFileChanges")),"\nconfiguration property to ",(0,a.kt)("inlineCode",{parentName:"p"},"false")," to disable file watching."),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("strong",{parentName:"p"},"Nothing")," is watched during\n",(0,a.kt)("a",{parentName:"p",href:"/guides/guides/command-line#cypress-run"},"cypress run"),"."),(0,a.kt)("p",{parentName:"admonition"},"The ",(0,a.kt)("inlineCode",{parentName:"p"},"watchForFileChanges")," property is only in effect when running Cypress using\n",(0,a.kt)("a",{parentName:"p",href:"/guides/guides/command-line#cypress-open"},"cypress open"),".")),(0,a.kt)("p",null,"The component responsible for the file-watching behavior in Cypress is the\n",(0,a.kt)("a",{parentName:"p",href:"https://github.com/cypress-io/cypress/tree/develop/npm/webpack-preprocessor"},(0,a.kt)("inlineCode",{parentName:"a"},"webpack-preprocessor")),".\nThis is the default file-watcher packaged with Cypress."),(0,a.kt)("p",null,"If you need further control of the file-watching behavior you can configure this\npreprocessor explicitly: it exposes options that allow you to configure behavior\nsuch as ",(0,a.kt)("em",{parentName:"p"},"what"),' is watched and the delay before emitting an "update" event after\na change.'),(0,a.kt)("p",null,"Cypress also ships other ",(0,a.kt)("a",{parentName:"p",href:"/plugins#preprocessors"},"file-watching preprocessors"),";\nyou'll have to configure these explicitly if you want to use them."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/cypress-io/cypress-watch-preprocessor"},"Cypress Watch Preprocessor")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/cypress-io/cypress/tree/develop/npm/webpack-preprocessor"},"Cypress webpack Preprocessor"))))}y.isMDXComponent=!0}}]);