"use strict";(self.webpackChunkcypress_docusaurus_ts=self.webpackChunkcypress_docusaurus_ts||[]).push([[8083],{3905:(t,e,n)=>{n.d(e,{Zo:()=>c,kt:()=>d});var i=n(7294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var u=i.createContext({}),l=function(t){var e=i.useContext(u),n=e;return t&&(n="function"==typeof t?t(e):a(a({},e),t)),n},c=function(t){var e=l(t.components);return i.createElement(u.Provider,{value:e},t.children)},p="mdxType",m={inlineCode:"code",wrapper:function(t){var e=t.children;return i.createElement(i.Fragment,{},e)}},g=i.forwardRef((function(t,e){var n=t.components,r=t.mdxType,o=t.originalType,u=t.parentName,c=s(t,["components","mdxType","originalType","parentName"]),p=l(n),g=r,d=p["".concat(u,".").concat(g)]||p[g]||m[g]||o;return n?i.createElement(d,a(a({ref:e},c),{},{components:n})):i.createElement(d,a({ref:e},c))}));function d(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var o=n.length,a=new Array(o);a[0]=g;var s={};for(var u in e)hasOwnProperty.call(e,u)&&(s[u]=e[u]);s.originalType=t,s[p]="string"==typeof t?t:r,a[1]=s;for(var l=2;l<o;l++)a[l]=n[l];return i.createElement.apply(null,a)}return i.createElement.apply(null,n)}g.displayName="MDXCreateElement"},9578:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>u,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var i=n(7462),r=(n(7294),n(3905));const o={title:"Bitbucket Integration",sidebar_position:90},a=void 0,s={unversionedId:"guides/cloud/bitbucket-integration",id:"guides/cloud/bitbucket-integration",title:"Bitbucket Integration",description:"Bitbucket integration is currently in beta.",source:"@site/docs/guides/cloud/bitbucket-integration.mdx",sourceDirName:"guides/cloud",slug:"/guides/cloud/bitbucket-integration",permalink:"/cypress-documentation/guides/cloud/bitbucket-integration",draft:!1,editUrl:"https://github.com/cypress-io/cypress-documentation/tree/main/docs/guides/cloud/bitbucket-integration.mdx",tags:[],version:"current",sidebarPosition:90,frontMatter:{title:"Bitbucket Integration",sidebar_position:90},sidebar:"guides",previous:{title:"GitLab Integration",permalink:"/cypress-documentation/guides/cloud/gitlab-integration"},next:{title:"Jira Integration",permalink:"/cypress-documentation/guides/cloud/jira-integration"}},u={},l=[{value:"Installing the Bitbucket integration",id:"Installing-the-Bitbucket-integration",level:2},{value:"Configuring the Bitbucket integration",id:"Configuring-the-Bitbucket-integration",level:2},{value:"Status checks",id:"Status-checks",level:3},{value:"Pull Request comments",id:"Pull-Request-comments",level:3},{value:"Uninstalling the Bitbucket integration",id:"Uninstalling-the-Bitbucket-integration",level:2}],c={toc:l};function p(t){let{components:e,...n}=t;return(0,r.kt)("wrapper",(0,i.Z)({},c,n,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Bitbucket integration is currently in beta.")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://on.cypress.io/cloud"},"Cypress Cloud")," can integrate your Cypress tests\nwith your Bitbucket workflow via ",(0,r.kt)("a",{parentName:"p",href:"#Status-checks"},"status checks")," and\n",(0,r.kt)("a",{parentName:"p",href:"#Pull-Request-comments"},"pull request comments"),". A project first needs to be\n",(0,r.kt)("a",{parentName:"p",href:"/guides/cloud/projects"},"set up to record")," to Cypress Cloud to use Bitbucket\nintegration."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Bitbucket Integration depends on your CI environment reliably providing a commit\nSHA (typically via an environment variable). This is not a problem for most\nusers, but if you are facing Bitbucket integration issues with your CI setup,\nplease make sure the git information is being sent properly by following\n",(0,r.kt)("a",{parentName:"p",href:"/guides/continuous-integration/introduction#Git-information"},"these guidelines"),".\nIf you still face issues after this, please\n",(0,r.kt)("a",{parentName:"p",href:"mailto:hello@cypress.io"},"contact us"),".")),(0,r.kt)("h2",{id:"Installing-the-Bitbucket-integration"},"Installing the Bitbucket integration"),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Bitbucket OAuth2 applications will allow Cypress Cloud to authenticate as the\nuser that registered the application. That means Cypress will have visibility to\nevery Bitbucket repo you can access. If you want tighter control over the repos\nthat Cypress will see, consider creating a service account with more limited\naccess in Bitbucket.")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Visit ",(0,r.kt)("strong",{parentName:"li"},"Integrations")," in Cypress Cloud."),(0,r.kt)("li",{parentName:"ol"},"Click ",(0,r.kt)("strong",{parentName:"li"},"Install Bitbucket Integration"),"."),(0,r.kt)("li",{parentName:"ol"},"(For beta only) You need to enable Bitbucket's\n",(0,r.kt)("a",{parentName:"li",href:"https://support.atlassian.com/bitbucket-cloud/docs/enable-bitbucket-cloud-development-mode/"},"development mode"),"\nfor your user account to continue."),(0,r.kt)("li",{parentName:"ol"},"Continue through the Bitbucket OAuth installation flow in the popup window."),(0,r.kt)("li",{parentName:"ol"},"Once installed, connect your projects to a Bitbucket repo."),(0,r.kt)("li",{parentName:"ol"},"(Optional) Configure the behavior for each project.")),(0,r.kt)("h2",{id:"Configuring-the-Bitbucket-integration"},"Configuring the Bitbucket integration"),(0,r.kt)("h3",{id:"Status-checks"},"Status checks"),(0,r.kt)("p",null,"By default, Cypress will post a ",(0,r.kt)("strong",{parentName:"p"},"cypress/run")," commit status containing the\nresults of the Cypress run. This will prevent your team from merging any PRs\nwith failing Cypress tests."),(0,r.kt)("p",null,"Additionally, Cypress can post a ",(0,r.kt)("strong",{parentName:"p"},"cypress/flake")," commit status indicating\nwhether the Cypress run contained any flaky tests. This will prevent your team\nfrom merging any PRs with flaky tests."),(0,r.kt)("p",null,"You can manage this behavior on your project's ",(0,r.kt)("strong",{parentName:"p"},"Project Settings")," page."),(0,r.kt)("h3",{id:"Pull-Request-comments"},"Pull Request comments"),(0,r.kt)("p",null,"By default, Cypress will post a PR comment summarizing the run when the run\ncompletes. It will include test counts, run info, and a summary of tests that\nfailed or were flaky."),(0,r.kt)("p",null,"You can manage this behavior on your project's ",(0,r.kt)("strong",{parentName:"p"},"Project Settings")," page."),(0,r.kt)("h2",{id:"Uninstalling-the-Bitbucket-integration"},"Uninstalling the Bitbucket integration"),(0,r.kt)("p",null,"You can remove this integration by visiting the ",(0,r.kt)("strong",{parentName:"p"},"Integrations \u2192 Bitbucket"),"\npage of your organization. This will stop all status checks and PR comments from\nCypress."))}p.isMDXComponent=!0}}]);