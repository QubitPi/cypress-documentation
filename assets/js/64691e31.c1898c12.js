"use strict";(self.webpackChunkcypress_docusaurus_ts=self.webpackChunkcypress_docusaurus_ts||[]).push([[1495],{4830:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>l,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>c,toc:()=>d});var n=r(5893),i=r(1151);const o={title:"Troubleshooting"},t=void 0,c={id:"guides/references/troubleshooting",title:"Troubleshooting",description:"There are times when you will encounter errors or unexpected behavior with",source:"@site/docs/guides/references/troubleshooting.mdx",sourceDirName:"guides/references",slug:"/guides/references/troubleshooting",permalink:"/guides/references/troubleshooting",draft:!1,unlisted:!1,editUrl:"https://github.com/cypress-io/cypress-documentation/tree/main/docs/guides/references/troubleshooting.mdx",tags:[],version:"current",lastUpdatedAt:1728610821,formattedLastUpdatedAt:"Oct 11, 2024",frontMatter:{title:"Troubleshooting"},sidebar:"guides",previous:{title:"Trade-offs",permalink:"/guides/references/trade-offs"}},l={},d=[{value:"Update Cypress",id:"Update-Cypress",level:2},{value:"Support channels",id:"Support-channels",level:2},{value:"Common GitHub issues",id:"Common-GitHub-issues",level:3},{value:"Isolate the Problem",id:"Isolate-the-Problem",level:2},{value:"Download specific Chrome version",id:"Download-specific-Chrome-version",level:2},{value:"Clear Cypress cache",id:"Clear-Cypress-cache",level:2},{value:"Launching browsers",id:"Launching-browsers",level:2},{value:"Mac",id:"Mac",level:3},{value:"Linux",id:"Linux",level:3},{value:"Windows",id:"Windows",level:3},{value:"Allow the Cypress Chrome extension",id:"Allow-the-Cypress-Chrome-extension",level:2},{value:"Allow Cypress URLs on VPNs",id:"Allow-Cypress-URLs-on-VPNs",level:2},{value:"Clear App Data",id:"Clear-App-Data",level:2},{value:"To clear App Data",id:"To-clear-App-Data",level:3},{value:"Print DEBUG logs",id:"Print-DEBUG-logs",level:2},{value:"Detailed Logs",id:"Detailed-Logs",level:3},{value:"Log sources",id:"Log-sources",level:3},{value:"Debug log depth",id:"Debug-log-depth",level:4},{value:"3rd party modules",id:"3rd-party-modules",level:4},{value:"Debug logs in the browser",id:"Debug-logs-in-the-browser",level:3},{value:"Log memory and CPU usage",id:"Log-memory-and-CPU-usage",level:2},{value:"Disable the Command Log",id:"Disable-the-Command-Log",level:2},{value:"Additional information",id:"Additional-information",level:2},{value:"Write command log to the terminal",id:"Write-command-log-to-the-terminal",level:3},{value:"Hacking on Cypress",id:"Hacking-on-Cypress",level:2},{value:"Contribute",id:"Contribute",level:3},{value:"Run Cypress by itself",id:"Run-Cypress-by-itself",level:3},{value:"Patch Cypress",id:"Patch-Cypress",level:3}];function a(e){const s={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components},{DocsImage:r,TabItem:o,Tabs:t,UrlAllowList:c}=s;return r||p("DocsImage",!0),o||p("TabItem",!0),t||p("Tabs",!0),c||p("UrlAllowList",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.p,{children:"There are times when you will encounter errors or unexpected behavior with\nCypress itself. This guide recommends some resources and steps to take to\ntroubleshoot those problems."}),"\n",(0,n.jsx)(s.h2,{id:"Update-Cypress",children:"Update Cypress"}),"\n",(0,n.jsx)(s.p,{children:"We always recommend using the latest version of Cypress. If you're not using the\nlatest version, upgrade to the latest version. Your issue may already be\nresolved."}),"\n",(0,n.jsx)(s.h2,{id:"Support-channels",children:"Support channels"}),"\n",(0,n.jsx)(s.p,{children:"Check these support resources:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Connect with our community in ",(0,n.jsx)(s.a,{href:"https://on.cypress.io/discord",children:"Discord"})]}),"\n",(0,n.jsxs)(s.li,{children:["Search existing ",(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/issues",children:"GitHub issues"})]}),"\n",(0,n.jsx)(s.li,{children:"Search this documentation (search is in the top right) \ud83d\ude09"}),"\n",(0,n.jsxs)(s.li,{children:["Search ",(0,n.jsx)(s.a,{href:"https://stackoverflow.com/questions/tagged/cypress",children:"Stack Overflow"}),"\nfor relevant answers"]}),"\n",(0,n.jsxs)(s.li,{children:["If your organization signs up for one of our\n",(0,n.jsx)(s.a,{href:"https://www.cypress.io/pricing/",children:"paid plans"}),", you can get dedicated email\nsupport, which gives you one-on-one help from our team."]}),"\n",(0,n.jsxs)(s.li,{children:["If you still haven't found a solution,\n",(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/issues/new/choose",children:"open an issue"})," ",(0,n.jsx)(s.em,{children:"with\na reproducible example"}),"."]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"Common-GitHub-issues",children:"Common GitHub issues"}),"\n",(0,n.jsx)(s.p,{children:"Below are some of common problem topics users experience with a link to the main\nissue(s) and links to the open and closed issues in the topic. Maybe you can\nfind an open or closed issue matching your problem. Even open issues might\nsuggest a workaround or shed more information on the problem."}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Label"}),(0,n.jsx)(s.th,{children:"Description"}),(0,n.jsx)(s.th,{children:"Issues"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"browser detection"}),(0,n.jsx)(s.td,{children:"Local browser is not detected"}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/labels/topic%3A%20browser%20detection",children:"open"}),", ",(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+browser+detection%22+is%3Aclosed",children:"closed"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"cross-origin"}),(0,n.jsx)(s.td,{children:"Getting cross-origin error"}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/labels/topic%3A%20cross-origin%20%E2%A4%AD",children:"open"}),", ",(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+cross-origin+%E2%A4%AD%22+is%3Aclosed",children:"closed"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"cy.request"}),(0,n.jsxs)(s.td,{children:["Issues related to ",(0,n.jsx)(s.a,{href:"/api/commands/request",children:(0,n.jsx)(s.code,{children:"cy.request()"})})," command"]}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/labels/topic%3A%20cy.request",children:"open"}),", ",(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+cy.request%22+is%3Aclosed",children:"closed"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"fixtures"}),(0,n.jsx)(s.td,{children:"Fixture loading and usage"}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/labels/topic%3A%20fixtures",children:"open"}),", ",(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+fixtures%22+is%3Aclosed",children:"closed"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"hooks"}),(0,n.jsx)(s.td,{children:"Issues related to hooks"}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/labels/topic%3A%20hooks%20%E2%86%AA",children:"open"}),", ",(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+hooks+%E2%86%AA%22+is%3Aclosed",children:"closed"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"iframes"}),(0,n.jsx)(s.td,{children:"Working with iframes"}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/labels/topic%3A%20iframes",children:"open"}),", ",(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+iframes%22+is%3Aclosed",children:"closed"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"installation"}),(0,n.jsx)(s.td,{children:"Cypress cannot be downloaded or installed"}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/labels/topic%3A%20installation",children:"open"}),", ",(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+installation%22+is%3Aclosed",children:"closed"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"network"}),(0,n.jsx)(s.td,{children:"Controlling network requests"}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/labels/topic%3A%20network",children:"open"}),", ",(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+network%22+is%3Aclosed",children:"closed"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"performance"}),(0,n.jsx)(s.td,{children:"Slow loading, slow network, etc"}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/labels/type%3A%20performance%20%F0%9F%8F%83%E2%80%8D%E2%99%80%EF%B8%8F",children:"open"}),", ",(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22type%3A+performance+%F0%9F%8F%83%E2%80%8D%E2%99%80%EF%B8%8F%22+is%3Aclosed",children:"closed"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"screenshots"}),(0,n.jsx)(s.td,{children:"Taking image screenshots"}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/labels/topic%3A%20screenshots%20%F0%9F%93%B8",children:"open"}),", ",(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+screenshots+%F0%9F%93%B8%22+is%3Aclosed",children:"closed"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"scrolling"}),(0,n.jsx)(s.td,{children:"Scrolling elements into view"}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/labels/topic%3A%20scrolling%20%E2%86%95%EF%B8%8F",children:"open"}),", ",(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+scrolling+%E2%86%95%EF%B8%8F%22+is%3Aclosed",children:"closed"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"spec execution"}),(0,n.jsx)(s.td,{children:"Running all or filtered specs"}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/labels/topic%3A%20spec%20execution",children:"open"}),", ",(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+spec+execution%22+is%3Aclosed",children:"closed"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"test execution"}),(0,n.jsx)(s.td,{children:"Running tests inside a single spec"}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/labels/topic%3A%20test%20execution",children:"open"}),", ",(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+test+execution%22+is%3Aclosed",children:"closed"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"TypeScript"}),(0,n.jsx)(s.td,{children:"Transpiling or bundling TypeScript"}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/labels/topic%3A%20typescript",children:"open"}),", ",(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+typescript%22+is%3Aclosed",children:"closed"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"video"}),(0,n.jsx)(s.td,{children:"Problems with video recordings"}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/labels/topic%3A%20video%20%F0%9F%93%B9",children:"open"}),", ",(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+video+%F0%9F%93%B9%22+is%3Aclosed",children:"closed"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"file downloads"}),(0,n.jsx)(s.td,{children:"File downloads are not working"}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/labels/topic%3A%20downloads%20%E2%AC%87%EF%B8%8F",children:"open"}),", ",(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+downloads+%E2%AC%87%EF%B8%8F%22+is%3Aclosed",children:"closed"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"intercept"}),(0,n.jsxs)(s.td,{children:["Network stubbing using ",(0,n.jsx)(s.a,{href:"/api/commands/intercept",children:"cy.intercept"})]}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/labels/pkg%2Fnet-stubbing",children:"open"}),", ",(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/issues?q=label%3Apkg%2Fnet-stubbing+is%3Aclosed",children:"closed"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"SIG* errors"}),(0,n.jsxs)(s.td,{children:["Crashes with errors like ",(0,n.jsx)(s.code,{children:"SIGSEGV"})]}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/labels/topic%3A%20SIG%20errors",children:"open"}),", ",(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+SIG+errors%22+is%3Aclosed",children:"closed"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"environment variables"}),(0,n.jsx)(s.td,{children:"Parsing and using environment variables"}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/labels/topic%3A%20environment%20variables",children:"open"}),", ",(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/issues?q=label%3A%22topic%3A+environment+variables%22+is%3Aclosed",children:"closed"})]})]})]})]}),"\n",(0,n.jsx)(s.h2,{id:"Isolate-the-Problem",children:"Isolate the Problem"}),"\n",(0,n.jsx)(s.p,{children:"When debugging a failing test, follow these general principles to isolate the\nproblem:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Look at the\n",(0,n.jsx)(s.a,{href:"/guides/guides/screenshots-and-videos",children:"video recordings and screenshots"}),"."]}),"\n",(0,n.jsx)(s.li,{children:"Split large spec files into smaller ones."}),"\n",(0,n.jsx)(s.li,{children:"Split long tests into smaller tests."}),"\n",(0,n.jsxs)(s.li,{children:["Run the same test using\n",(0,n.jsx)(s.a,{href:"/guides/guides/command-line#cypress-run-browser-lt-browser-name-or-path-gt",children:"--browser chrome"}),".\nThe problem might be isolated to the Electron browser."]}),"\n",(0,n.jsx)(s.li,{children:"If isolated to the Electron browser. Run the same tests in both Electron and\nChrome, then compare the screenshots/videos. Look for and isolate any\ndifferences in the Command Log."}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"Download-specific-Chrome-version",children:"Download specific Chrome version"}),"\n",(0,n.jsxs)(s.p,{children:["The Chrome browser is evergreen - meaning it will automatically update itself,\nsometimes causing a breaking change in your automated tests.\nYou can use the information in ",(0,n.jsx)(s.a,{href:"https://on.cypress.io/chromium-downloads",children:"Download Chromium"})," to download a\nspecific released version of Chromium for every platform."]}),"\n",(0,n.jsx)(s.h2,{id:"Clear-Cypress-cache",children:"Clear Cypress cache"}),"\n",(0,n.jsx)(s.p,{children:"If you're having an issue during installation of Cypress, try removing the\ncontents of the Cypress cache."}),"\n",(0,n.jsx)(s.p,{children:"This will clear out all installed versions of Cypress that may be cached on your\nmachine."}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"cypress cache clear\n"})}),"\n",(0,n.jsxs)(s.p,{children:["After running this command, you will need to run ",(0,n.jsx)(s.code,{children:"cypress install"})," before\nrunning Cypress again."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"npm install cypress --save-dev\n"})}),"\n",(0,n.jsx)(s.h2,{id:"Launching-browsers",children:"Launching browsers"}),"\n",(0,n.jsxs)(s.p,{children:["Cypress attempts to\n",(0,n.jsx)(s.a,{href:"/guides/guides/launching-browsers",children:"automatically find installed Chrome versions for you"}),'.\nHowever, probing for browsers across different environments can be error-prone.\nIf Cypress cannot find a browser but you know you have it installed, there are\nways to ensure that Cypress can "see" it.']}),"\n",(0,n.jsxs)(s.admonition,{type:"info",children:[(0,n.jsxs)("strong",{children:["Using the ",(0,n.jsx)(s.code,{children:"--browser"})," command line argument"]}),(0,n.jsxs)(s.p,{children:["You can also supply the ",(0,n.jsx)(s.code,{children:"--browser"})," command line argument to launch a browser\nfrom a known filesystem path to bypass browser auto detection.\n",(0,n.jsx)(s.a,{href:"/guides/guides/launching-browsers#Launching-by-a-path",children:"See 'Launching Browsers' for more information"})]})]}),"\n",(0,n.jsxs)(s.p,{children:["You can see the full list of found browsers and their properties within the\n",(0,n.jsx)(s.a,{href:"/guides/references/configuration#Resolved-Configuration",children:"resolved configuration"}),"\nin the ",(0,n.jsx)(s.strong,{children:"Settings"})," tab of Cypress."]}),"\n",(0,n.jsxs)(s.p,{children:["Another way to log what is found by Cypress is to run Cypress with the\n",(0,n.jsx)(s.a,{href:"#Print-DEBUG-logs",children:"DEBUG environment variable"})," set to ",(0,n.jsx)(s.code,{children:"cypress:launcher:*"}),". This\nwill print information about the found browsers and their properties to the\nterminal."]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Tip:"})," use the ",(0,n.jsx)(s.a,{href:"/guides/guides/command-line#cypress-info",children:"cypress info"}),"\ncommand to see all locally detected browsers."]}),"\n",(0,n.jsx)(s.h3,{id:"Mac",children:"Mac"}),"\n",(0,n.jsx)(s.p,{children:"On Mac, Cypress attempts to find installed browsers by their bundle identifier.\nIf this does not succeed, it will fall back to the Linux browser detection\nmethod."}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Browser Name"}),(0,n.jsx)(s.th,{children:"Expected Bundle Identifier"}),(0,n.jsx)(s.th,{children:"Expected Executable"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"chrome"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"com.google.Chrome"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"Contents/MacOS/Google Chrome"})})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"chromium"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"org.chromium.Chromium"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"Contents/MacOS/Chromium"})})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"chrome:canary"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"com.google.Chrome.canary"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"Contents/MacOS/Google Chrome Canary"})})]})]})]}),"\n",(0,n.jsxs)(s.p,{children:["For the current list, see\n",(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/blob/develop/packages/launcher/lib/darwin/index.ts",children:"packages/launcher"}),"\nfiles."]}),"\n",(0,n.jsx)(s.h3,{id:"Linux",children:"Linux"}),"\n",(0,n.jsxs)(s.p,{children:["On Linux, Cypress scans your ",(0,n.jsx)(s.code,{children:"PATH"})," for a number of different binary names. If\nthe browser you are trying to use does not exist under one of the expected\nbinary names, Cypress will not be able to find it."]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Browser Name"}),(0,n.jsx)(s.th,{children:"Expected Binary Name(s)"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"chrome"})}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.code,{children:"google-chrome"}),", ",(0,n.jsx)(s.code,{children:"chrome"}),", or ",(0,n.jsx)(s.code,{children:"google-chrome-stable"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"chromium"})}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.code,{children:"chromium-browser"})," or ",(0,n.jsx)(s.code,{children:"chromium"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"chrome:canary"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"google-chrome-canary"})})]})]})]}),"\n",(0,n.jsx)(s.p,{children:"These binary names should work for most Linux distributions. If your\ndistribution packages browsers under a different binary name, you can add a\nsymlink using the expected binary name so that Cypress can detect it."}),"\n",(0,n.jsxs)(s.p,{children:["For example, if your distribution packages Google Chrome as ",(0,n.jsx)(s.code,{children:"chrome"}),", you could\nadd a symlink to ",(0,n.jsx)(s.code,{children:"google-chrome"})," like this:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"sudo ln `which chrome` /usr/local/bin/google-chrome\n"})}),"\n",(0,n.jsx)(s.h3,{id:"Windows",children:"Windows"}),"\n",(0,n.jsx)(s.p,{children:"On Windows, Cypress scans the following locations to try to find each browser:"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Browser Name"}),(0,n.jsx)(s.th,{children:"Expected Path"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"chrome"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"C:/Program Files (x86)/Google/Chrome/Application/chrome.exe"})})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"chromium"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"C:/Program Files (x86)/Google/chrome-win32/chrome.exe"})})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"chrome:canary"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"%APPDATA%/../Local/Google/Chrome SxS/Application/chrome.exe"})})]})]})]}),"\n",(0,n.jsxs)(s.p,{children:["For the current list, see\n",(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/blob/develop/packages/launcher/lib/windows/index.ts",children:"packages/launcher"}),"\nfiles."]}),"\n",(0,n.jsxs)(s.p,{children:["To make a browser installed at a different path be auto-detected, create a\nsymbolic link using ",(0,n.jsx)(s.code,{children:"mklink"})," in the location that Cypress expects to find your\nbrowser."]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://www.howtogeek.com/howto/16226/complete-guide-to-symbolic-links-symlinks-on-windows-or-linux/",children:"Read more about creating symbolic links on Windows"})}),"\n",(0,n.jsx)(s.p,{children:"Occasionally Cypress will have issues detecting the type of browser in Windows\nenvironments. To manually detect the browser type, append the browser type to\nthe end of the path:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"cypress open --browser C:/User/Application/browser.exe:chrome\n"})}),"\n",(0,n.jsx)(s.h2,{id:"Allow-the-Cypress-Chrome-extension",children:"Allow the Cypress Chrome extension"}),"\n",(0,n.jsx)(s.p,{children:"Cypress utilizes a Chrome extension in order to run properly. If you or your\ncompany block specific Chrome extensions, this may cause problems with running\nCypress. You will want to ask your administrator to allow the Cypress extension\nID below:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-sh",children:"caljajdfkjjjdehjdoimjkkakekklcck\n"})}),"\n",(0,n.jsxs)(s.p,{children:["You can check the current company policies for your Chrome installation by typing ",(0,n.jsx)(s.code,{children:"chrome://policy"})," into the address bar and pressing Enter."]}),"\n",(0,n.jsx)(s.h2,{id:"Allow-Cypress-URLs-on-VPNs",children:"Allow Cypress URLs on VPNs"}),"\n",(0,n.jsxs)(s.p,{children:["To send the data and results of your tests to\n",(0,n.jsx)(s.a,{href:"https://on.cypress.io/cloud-introduction",children:"Cypress Cloud"}),", Cypress needs free\naccess to some URLs."]}),"\n",(0,n.jsx)(c,{}),"\n",(0,n.jsx)(s.h2,{id:"Clear-App-Data",children:"Clear App Data"}),"\n",(0,n.jsx)(s.p,{children:"Cypress maintains some local application data in order to save user preferences\nand more quickly start up. Sometimes this data can become corrupted. You may fix\nan issue you have by clearing this app data."}),"\n",(0,n.jsx)(s.h3,{id:"To-clear-App-Data",children:"To clear App Data"}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:["Open Cypress via ",(0,n.jsx)(s.code,{children:"cypress open"})]}),"\n",(0,n.jsxs)(s.li,{children:["Go to ",(0,n.jsx)(s.code,{children:"Developer Tools"})," -> ",(0,n.jsx)(s.code,{children:"View App Data"})]}),"\n",(0,n.jsxs)(s.li,{children:["This will take you to the directory in your file system where your App Data\nis stored. If you cannot open Cypress, search your file system for a\ndirectory named ",(0,n.jsx)(s.code,{children:"cy"})," whose content should look something like this:"]}),"\n"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-text",children:"\ud83d\udcc2 production\n  \ud83d\udcc4 all.log\n  \ud83d\udcc1 browsers\n  \ud83d\udcc1 bundles\n  \ud83d\udcc4 cache\n  \ud83d\udcc1 projects\n  \ud83d\udcc1 proxy\n  \ud83d\udcc4 state.json\n"})}),"\n",(0,n.jsxs)(s.ol,{start:"4",children:["\n",(0,n.jsxs)(s.li,{children:["Delete everything in the ",(0,n.jsx)(s.code,{children:"cy"})," folder"]}),"\n",(0,n.jsx)(s.li,{children:"Close Cypress and open it up again"}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"Print-DEBUG-logs",children:"Print DEBUG logs"}),"\n",(0,n.jsxs)(s.p,{children:["Cypress utilizes the ",(0,n.jsx)(s.a,{href:"https://github.com/debug-js/debug",children:"debug"})," module.\nThat means you can receive helpful debugging output by running Cypress with a system-level environment variable ",(0,n.jsx)(s.code,{children:"DEBUG"})," set to ",(0,n.jsx)(s.code,{children:"cypress:*"})," prior to running ",(0,n.jsx)(s.code,{children:"cypress run"})," or ",(0,n.jsx)(s.code,{children:"cypress open"}),"."]}),"\n",(0,n.jsxs)(s.admonition,{type:"tip",children:[(0,n.jsx)(s.p,{children:"Enabling debug output can generate a large amount of data. This may also impact performance.\nOnly enable debug output when you need it."}),(0,n.jsxs)(s.p,{children:["To reduce the amount of debug output data generated, replace ",(0,n.jsx)(s.code,{children:"cypress:*"})," using a more selective value for ",(0,n.jsx)(s.code,{children:"DEBUG"}),".\nSee below, including the section ",(0,n.jsx)(s.a,{href:"#Log-sources",children:"Log sources"}),"."]}),(0,n.jsxs)(s.p,{children:["If you need to share debug output collected in a file, consider first compressing it with a ",(0,n.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/ZIP_(file_format)",children:"ZIP"})," utility or similar to reduce the file size before sharing."]})]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"On macOS, Linux or Windows (Git Bash):"})}),"\n",(0,n.jsxs)(t,{groupId:"package-manager",defaultValue:"npm",values:[{label:"npm",value:"npm"},{label:"Yarn",value:"yarn"},{label:"pnpm",value:"pnpm"}],children:[(0,n.jsx)(o,{value:"npm",children:(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"DEBUG=cypress:* npx cypress run\n"})})}),(0,n.jsx)(o,{value:"yarn",children:(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"DEBUG=cypress:* yarn cypress run\n"})})}),(0,n.jsx)(o,{value:"pnpm",children:(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"DEBUG=cypress:* pnpm cypress run\n"})})})]}),"\n",(0,n.jsxs)(s.p,{children:["You can change ",(0,n.jsx)(s.code,{children:"run"})," to ",(0,n.jsx)(s.code,{children:"open"})," in the above to capture debug logs when starting your tests from the ",(0,n.jsx)(s.a,{href:"../core-concepts/cypress-app#Specs",children:"Cypress Specs"})," UI."]}),"\n",(0,n.jsxs)(s.p,{children:["For non-POSIX type shells on Windows, set the ",(0,n.jsx)(s.code,{children:"DEBUG"})," environment variable as follows. (Replace ",(0,n.jsx)(s.code,{children:"npx"})," with ",(0,n.jsx)(s.code,{children:"yarn"})," or ",(0,n.jsx)(s.code,{children:"pnpm"})," if you are using Yarn or pnpm package managers instead of npm.)"]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"On Windows CMD:"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"set DEBUG=cypress:*\nnpx cypress run\n"})}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"On Windows PowerShell:"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"$env:DEBUG='cypress:*'\nnpx cypress run\n"})}),"\n",(0,n.jsx)(s.p,{children:"If you have issues with the logs not printing, it may be a permissions issue\nwith setting the environment variable in your terminal. You may need to run your\nterminal in administrative mode or review your permission settings."}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.a,{href:"/guides/guides/command-line#How-to-run-commands",children:"How to run Cypress CLI commands"})," provides background information on running Cypress from the command line and includes a reference of additional command line options."]}),"\n",(0,n.jsxs)(s.p,{children:["Read more: ",(0,n.jsx)(s.a,{href:"https://glebbahmutov.com/blog/good-logging/",children:"Good Logging"})," blog post."]}),"\n",(0,n.jsx)(s.h3,{id:"Detailed-Logs",children:"Detailed Logs"}),"\n",(0,n.jsxs)(s.p,{children:["There are several levels of ",(0,n.jsx)(s.code,{children:"DEBUG"})," messages"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"## prints very few top-level messages\nDEBUG=cypress:server ...\n## prints ALL messages from server package\nDEBUG=cypress:server* ...\n## prints messages only from project base operations\nDEBUG=cypress:server:project ...\n"})}),"\n",(0,n.jsx)(s.p,{children:"This allows you to isolate the problem a little better"}),"\n",(0,n.jsx)(s.h3,{id:"Log-sources",children:"Log sources"}),"\n",(0,n.jsx)(s.p,{children:"Cypress is built from multiple packages, each responsible for its own logging:\nserver, reporter, driver, command line, etc. Each package writes debug logs\nunder a different source. Here are a few common log sources and when you might\nwant to enable them"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsxs)(s.th,{children:["Set ",(0,n.jsx)(s.code,{children:"DEBUG"})," to value"]}),(0,n.jsx)(s.th,{children:"To enable debugging"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"cypress:*"})}),(0,n.jsx)(s.td,{children:"ALL modules"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"cypress:cli*"})}),(0,n.jsx)(s.td,{children:"Top-level command line parsing and binary installation"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"cypress:server:args"})}),(0,n.jsx)(s.td,{children:"Incorrect parsed command line arguments"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"cypress:data-context:sources:*"})}),(0,n.jsx)(s.td,{children:"Not finding the expected project data"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"cypress:server:project"})}),(0,n.jsx)(s.td,{children:"Opening the project"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"cypress:server:browsers*"})}),(0,n.jsx)(s.td,{children:"Finding installed browsers"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"cypress:launcher:*"})}),(0,n.jsx)(s.td,{children:"Launching the found browser"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"cypress:server:video"})}),(0,n.jsx)(s.td,{children:"Video recording"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"cypress:network:*"})}),(0,n.jsx)(s.td,{children:"Adding network interceptors"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"cypress:net-stubbing:*"})}),(0,n.jsx)(s.td,{children:"Network interception in the proxy layer"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"cypress:server:reporter"})}),(0,n.jsx)(s.td,{children:"Problems with test reporters"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"cypress:server:preprocessor"})}),(0,n.jsx)(s.td,{children:"Processing specs"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"cypress:server:socket-e2e"})}),(0,n.jsx)(s.td,{children:"Watching spec files"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"cypress:server:task"})}),(0,n.jsxs)(s.td,{children:["Invoking the ",(0,n.jsx)(s.code,{children:"cy.task()"})," command"]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"cypress:server:socket-base"})}),(0,n.jsxs)(s.td,{children:["Debugging ",(0,n.jsx)(s.code,{children:"cy.request()"})," command"]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"cypress:webpack"})}),(0,n.jsx)(s.td,{children:"Bundling specs using webpack"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"cypress:server:fixture"})}),(0,n.jsx)(s.td,{children:"Loading fixture files"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"cypress:server:record:ci-info"})}),(0,n.jsx)(s.td,{children:"Git commit and CI information when recording to Cypress Cloud"})]})]})]}),"\n",(0,n.jsx)(s.p,{children:"You can combine several areas together using the comma character. For example,\nto debug specs not being found, use:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"## see how CLI arguments were parsed\n## and how Cypress tried to locate spec files\nDEBUG=cypress:cli,cypress:data-context:sources:FileDataSource,cypress:data-context:sources:ProjectDataSource npx cypress run --spec ...\n"})}),"\n",(0,n.jsxs)(s.p,{children:["You can also exclude a log source using the ",(0,n.jsx)(s.code,{children:"-"})," character. For example, to see all\n",(0,n.jsx)(s.code,{children:"cypress:server*"})," messages without noisy browser messages use:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"DEBUG=cypress:server*,-cypress:server:browsers* npx cypress run\n"})}),"\n",(0,n.jsx)(s.h4,{id:"Debug-log-depth",children:"Debug log depth"}),"\n",(0,n.jsxs)(s.p,{children:["Sometimes the logged object has deeply nested properties and is shown as\n",(0,n.jsx)(s.code,{children:"[Object]"})," instead of the full serialization."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"DEBUG=cypress:server:socket-base npx cypress run\n\ncypress:server:socket-base backend:request { eventName: 'http:request', args:\n  [ { url: 'http://localhost:7065/echo', method: 'POST', body: [Object], auth: [Object],\n  json: true, encoding: 'utf8', gzip: true, timeout: 30000, followRedirect: true,\n  failOnStatusCode: true, retryOnNetworkFailure: true,\n  retryOnStatusCodeFailure: false } ] } +5ms\n"})}),"\n",(0,n.jsxs)(s.p,{children:["You can increase the printed object depth using the ",(0,n.jsx)(s.code,{children:"DEBUG_DEPTH"})," environment\nvariable"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"DEBUG=cypress:server:socket-base DEBUG_DEPTH=3 npx cypress run\n\ncypress:server:socket-base backend:request { eventName: 'http:request', args:\n  [ { url: 'http://localhost:7065/echo', method: 'POST', body: { text: 'ping!' },\n  auth: { username: 'jane.lane', password: 'password123' }, json: true, encoding: 'utf8',\n  gzip: true, timeout: 30000, followRedirect: true, failOnStatusCode: true,\n  retryOnNetworkFailure: true, retryOnStatusCodeFailure: false } ] } +4ms\n"})}),"\n",(0,n.jsx)(s.h4,{id:"3rd-party-modules",children:"3rd party modules"}),"\n",(0,n.jsxs)(s.p,{children:["Some 3rd party modules like\n",(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/request",children:"@cypress/request"})," output additional log\nmessages by inspecting the ",(0,n.jsx)(s.code,{children:"NODE_DEBUG"})," environment variable. For example to\ndebug the network interception and the requests made by the ",(0,n.jsx)(s.code,{children:"@cypress/request"})," module\nuse:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"DEBUG=cypress:net-stubbing:server:intercept-request \\\n  NODE_DEBUG=request npx cypress run\n"})}),"\n",(0,n.jsx)(s.h3,{id:"Debug-logs-in-the-browser",children:"Debug logs in the browser"}),"\n",(0,n.jsxs)(s.p,{children:["If the problem is seen during ",(0,n.jsx)(s.code,{children:"cypress open"})," you can print debug logs in the\nbrowser too. Open the browser's Developer Tools and set a ",(0,n.jsx)(s.code,{children:"localStorage"}),"\nproperty:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-javascript",children:"localStorage.debug = 'cypress*'\n\n// to disable debug messages\ndelete localStorage.debug\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Reload the browser and turn on 'Verbose' logs to see debug messages within the\nDeveloper Tools console. You will only see the ",(0,n.jsx)(s.strong,{children:"cypress:driver"})," package logs\nthat run in the browser, as you can see below."]}),"\n",(0,n.jsx)(r,{src:"/img/api/debug/debug-driver.jpg",alt:"Debug logs in browser"}),"\n",(0,n.jsx)(s.h2,{id:"Log-memory-and-CPU-usage",children:"Log memory and CPU usage"}),"\n",(0,n.jsxs)(s.p,{children:["You can tell Cypress to log out a summary of the memory and CPU usage of itself\nand any subprocesses at a regular interval by enabling the\n",(0,n.jsx)(s.code,{children:"cypress:server:util:process_profiler"})," debug stream, like so:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"DEBUG=cypress:server:util:process_profiler npx cypress run\n"})}),"\n",(0,n.jsxs)(s.p,{children:["(See ",(0,n.jsx)(s.a,{href:"#Print-DEBUG-logs",children:"Print DEBUG Logs"})," above for hints on setting\nthe ",(0,n.jsx)(s.code,{children:"DEBUG"})," environment variable in a non-POSIX Windows terminal.)"]}),"\n",(0,n.jsx)(s.p,{children:"In the resulting output, processes are grouped by their name."}),"\n",(0,n.jsx)(r,{src:"/img/guides/troubleshooting/troubleshooting-cypress-process-profiler-cli.jpg",alt:"Process printout of Cypress in CLI"}),"\n",(0,n.jsxs)(s.p,{children:["By default, process information is collected, summarized and is printed once\nevery 10 seconds. You can override this interval by setting the\n",(0,n.jsx)(s.code,{children:"CYPRESS_PROCESS_PROFILER_INTERVAL"})," environment variable to the desired interval\nin milliseconds."]}),"\n",(0,n.jsxs)(s.p,{children:["You can also obtain more detailed per-process information by enabling the\nverbose ",(0,n.jsx)(s.code,{children:"cypress-verbose:server:util:process_profiler"})," debug stream."]}),"\n",(0,n.jsx)(s.h2,{id:"Disable-the-Command-Log",children:"Disable the Command Log"}),"\n",(0,n.jsxs)(s.p,{children:["In some cases the ",(0,n.jsx)(s.a,{href:"/guides/core-concepts/cypress-app#Command-Log",children:"Command Log"}),",\nresponsible for displaying test commands, assertions, and statuses in the\nCypress Test Runner, may cause performance issues resulting in slower tests or\nthe browser crashing."]}),"\n",(0,n.jsxs)(s.p,{children:["In order to isolate these issues, you can hide the Command Log by passing the\nenvironment variable below during ",(0,n.jsx)(s.code,{children:"cypress open"})," or ",(0,n.jsx)(s.code,{children:"cypress run"}),"."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"CYPRESS_NO_COMMAND_LOG=1 cypress run\n"})}),"\n",(0,n.jsxs)(s.p,{children:["You can also hide the entire Cypress Runner UI in ",(0,n.jsx)(s.code,{children:"cypress run"})," by passing the ",(0,n.jsx)(s.a,{href:"/guides/guides/command-line#cypress-run-no-runner-ui",children:(0,n.jsx)(s.code,{children:"--no-runner-ui"})})," command line flag."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"npx cypress run --no-runner-ui\n"})}),"\n",(0,n.jsx)(s.p,{children:"With this variable set, Cypress will skip rendering the Command Log entirely,\nand perform none of the usual DOM updates to display information about commands\nand statuses as the test runs."}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Note:"})," With this variable set, screenshots and videos will not include the\nCommand Log."]}),"\n",(0,n.jsx)(s.h2,{id:"Additional-information",children:"Additional information"}),"\n",(0,n.jsx)(s.h3,{id:"Write-command-log-to-the-terminal",children:"Write command log to the terminal"}),"\n",(0,n.jsxs)(s.p,{children:["You can include the plugin\n",(0,n.jsx)(s.a,{href:"https://github.com/bahmutov/cypress-failed-log",children:"cypress-failed-log"})," in your\ntests. This plugin writes the list of Cypress commands to the terminal as well\nas a JSON file if a test fails."]}),"\n",(0,n.jsx)(r,{src:"/img/api/debug/failed-log.png",alt:"cypress-failed-log terminal output"}),"\n",(0,n.jsx)(s.h2,{id:"Hacking-on-Cypress",children:"Hacking on Cypress"}),"\n",(0,n.jsxs)(s.p,{children:["If you want to dive into Cypress and edit the code yourself, you can do that.\nThe Cypress code is open source and licensed under an\n",(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/blob/develop/LICENSE",children:"MIT license"}),". There\nare a few tips on getting started that we've outlined below."]}),"\n",(0,n.jsx)(s.h3,{id:"Contribute",children:"Contribute"}),"\n",(0,n.jsxs)(s.p,{children:["If you'd like to contribute directly to the Cypress code, we'd love to have your\nhelp! Please check out our\n",(0,n.jsx)(s.a,{href:"https://github.com/cypress-io/cypress/blob/develop/CONTRIBUTING.md",children:"contributing guide"}),"\nto learn about the many ways you can contribute."]}),"\n",(0,n.jsx)(s.h3,{id:"Run-Cypress-by-itself",children:"Run Cypress by itself"}),"\n",(0,n.jsx)(s.p,{children:"Cypress comes with an npm CLI module that parses the arguments, starts the Xvfb\nserver (if necessary), and then opens Cypress."}),"\n",(0,n.jsx)(s.p,{children:"Some common situations on why you would want to run Cypress by itself are to:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"debug Cypress not starting or hanging"}),"\n",(0,n.jsx)(s.li,{children:"debug problems related to the way CLI arguments are parsed by the npm CLI\nmodule"}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:["Here is how you can launch Cypress directly without the npm CLI module. First,\nfind where the binary is installed using the\n",(0,n.jsx)(s.a,{href:"/guides/guides/command-line#cypress-cache-path",children:"cypress cache path"})," command."]}),"\n",(0,n.jsx)(s.p,{children:"For example, on a Linux machine:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"npx cypress cache path\n/root/.cache/Cypress\n"})}),"\n",(0,n.jsx)(s.p,{children:"Second, try a smoke test that verifies that the application has all its required\ndependencies present on the host machine:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"/root/.cache/Cypress/3.3.1/Cypress/Cypress --smoke-test --ping=101\n101\n"})}),"\n",(0,n.jsxs)(s.p,{children:["If there is a missing dependency, the application should print an error message.\nYou can see the Electron verbose log messages by setting an\n",(0,n.jsx)(s.a,{href:"https://www.electronjs.org/docs/api/command-line-switches",children:"environment variable ELECTRON_ENABLE_LOGGING"}),":"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"ELECTRON_ENABLE_LOGGING=true DISPLAY=10.130.4.201:0 /root/.cache/Cypress/3.3.1/Cypress/Cypress --smoke-test --ping=101\n[809:0617/151243.281369:ERROR:bus.cc(395)] Failed to connect to the bus: Failed to connect to socket /var/run/dbus/system_bus_socket: No such file or directory\n101\n"})}),"\n",(0,n.jsx)(s.p,{children:"If the smoke test fails to execute, check if a shared library is missing (a\ncommon problem on Linux machines without all of the Cypress dependencies\npresent)."}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"ldd /home/person/.cache/Cypress/3.3.1/Cypress/Cypress\n  linux-vdso.so.1 (0x00007ffe9eda0000)\n  libnode.so => /home/person/.cache/Cypress/3.3.1/Cypress/libnode.so (0x00007fecb43c8000)\n  libpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007fecb41ab000)\n  libgtk-3.so.0 => not found\n  libgdk-3.so.0 => not found\n  ...\n"})}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Tip:"})," use ",(0,n.jsx)(s.a,{href:"/examples/docker",children:"Cypress Docker image"})," or install dependencies by\ncopying them from one of our official Docker images."]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Note:"})," verbose Electron logging might show warnings that still allow Cypress\nto work normally. For example, Cypress opens normally despite the scary output\nbelow:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:'ELECTRON_ENABLE_LOGGING=true DISPLAY=10.130.4.201:0 /root/.cache/Cypress/3.3.1/Cypress/Cypress\n[475:0617/150421.326986:ERROR:bus.cc(395)] Failed to connect to the bus: Failed to connect to socket /var/run/dbus/system_bus_socket: No such file or directory\n[475:0617/150425.061526:ERROR:bus.cc(395)] Failed to connect to the bus: Could not parse server address: Unknown address type (examples of valid types are "tcp" and on UNIX "unix")\n[475:0617/150425.079819:ERROR:bus.cc(395)] Failed to connect to the bus: Could not parse server address: Unknown address type (examples of valid types are "tcp" and on UNIX "unix")\n[475:0617/150425.371013:INFO:CONSOLE(73292)] "%cDownload the React DevTools for a better development experience: https://fb.me/react-devtools\nYou might need to use a local HTTP server (instead of file://): https://fb.me/react-devtools-faq", source: file:///root/.cache/Cypress/3.3.1/Cypress/resources/app/packages/desktop-gui/dist/app.js (73292)\n'})}),"\n",(0,n.jsx)(s.p,{children:"You can also see verbose Cypress logs when running the Cypress binary"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"DEBUG=cypress* DISPLAY=10.130.4.201:0 /root/.cache/Cypress/3.3.1/Cypress/Cypress --smoke-test --ping=101\ncypress:ts Running without ts-node hook in environment \"production\" +0ms\ncypress:server:cypress starting cypress with argv [ '/root/.cache/Cypress/3.3.1/Cypress/Cypress', '--smoke-test', '--ping=101' ] +0ms\ncypress:server:args argv array: [ '/root/.cache/Cypress/3.3.1/Cypress/Cypress', '--smoke-test', '--ping=101' ] +0ms\ncypress:server:args argv parsed: { _: [ '/root/.cache/Cypress/3.3.1/Cypress/Cypress' ], smokeTest: true, ping: 101, cwd: '/root/.cache/Cypress/3.3.1/Cypress/resources/app/packages/server' } +7ms\ncypress:server:args options { _: [ '/root/.cache/Cypress/3.3.1/Cypress/Cypress' ], smokeTest: true, ping: 101, cwd: '/root/.cache/Cypress/3.3.1/Cypress/resources/app/packages/server', config: {} } +2ms\ncypress:server:args argv options: { _: [ '/root/.cache/Cypress/3.3.1/Cypress/Cypress' ], smokeTest: true, ping: 101, cwd: '/root/.cache/Cypress/3.3.1/Cypress/resources/app/packages/server', config: {}, pong: 101 } +1ms\ncypress:server:appdata path: /root/.config/Cypress/cy/production +0ms\ncypress:server:cypress starting in mode smokeTest +356ms\n101\ncypress:server:cypress about to exit with code 0 +4ms\n"})}),"\n",(0,n.jsx)(s.p,{children:"If the smoke test does not show a specific error yet fails, try printing the\nElectron crash stack to maybe pinpoint the problem better:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"ELECTRON_ENABLE_STACK_DUMPING=1 npx cypress verify\n...\nReceived signal 11 SEGV_MAPERR ffffffb27e8955bb\n#0 0x55c6389f83d9 (/root/.cache/Cypress/3.8.2/Cypress/Cypress+0x35d13d8)\nr8: 0000000000000000  r9: 00007ffcf0387c80 r10: 00007ffcf0387bd8 r11: 000000000000000e\nr12: 00007ffcf0387d2c r13: 00007f3ea737b720 r14: ffffffb27e89558b r15: 00007f3ea8974200\ndi: 0000000000000000  si: 0000000000000020  bp: 0000000000000000  bx: 0000004f2f375580\ndx: 0000000000000001  ax: 0000000000000030  cx: 0000000000000001  sp: 00007ffcf0387d00\nip: 00007f3ea89582dd efl: 0000000000010246 cgf: 002b000000000033 erf: 0000000000000005\ntrp: 000000000000000e msk: 0000000000000000 cr2: ffffffb27e8955bb\n[end of stack trace]\nCalling _exit(1). Core file will not be generated.\n"})}),"\n",(0,n.jsx)(s.h3,{id:"Patch-Cypress",children:"Patch Cypress"}),"\n",(0,n.jsx)(s.p,{children:"Cypress comes with an npm CLI module that parses the arguments, starts the Xvfb\nserver (if necessary), and then opens Cypress."}),"\n",(0,n.jsx)(s.p,{children:"If you're encountering a bug in the current version of Cypress, you can\nimplement a temporary fix by patching Cypress in your own project. Here is an\nexample of how to do this."}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:["Install ",(0,n.jsx)(s.a,{href:"https://github.com/ds300/patch-package",children:"patch-package"}),"."]}),"\n",(0,n.jsx)(s.li,{children:"Add a patch step to your CI configuration after installing your npm packages."}),"\n"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-yaml",children:"- run: npm ci\n- run: npx patch-package\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Alternatively, you can apply the patch during a post-install phase. In your\n",(0,n.jsx)(s.code,{children:"package.json"}),", for example, you could add the following:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-json",children:'{\n  "scripts": {\n    "postinstall": "patch-package"\n  }\n}\n'})}),"\n",(0,n.jsxs)(s.ol,{start:"3",children:["\n",(0,n.jsxs)(s.li,{children:["Edit the line causing the problem ",(0,n.jsx)(s.em,{children:"in your local node_modules folder"})," within\n",(0,n.jsx)(s.code,{children:"node_modules/cypress"}),"."]}),"\n",(0,n.jsxs)(s.li,{children:["Run the ",(0,n.jsx)(s.code,{children:"npx patch-package cypress"})," command. This command will create a new\nfile named after the current Cypress version, for example, ",(0,n.jsx)(s.code,{children:"patches/cypress+13.15.0.patch"}),"."]}),"\n"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-css",children:"npx patch-package cypress\npatch-package 8.0.0\n\u2022 Creating temporary folder\n\u2022 Installing cypress@13.15.0 with npm\n\u2022 Diffing your files with clean files\n\u2714 Created file patches/cypress+13.15.0.patch\n\n\ud83d\udca1 cypress is on GitHub! To draft an issue based on your patch run\n\n    npx patch-package cypress --create-issue\n"})}),"\n",(0,n.jsxs)(s.ol,{start:"5",children:["\n",(0,n.jsxs)(s.li,{children:["Commit the new ",(0,n.jsx)(s.code,{children:"patches"})," folder to git."]}),"\n"]}),"\n",(0,n.jsxs)(s.admonition,{type:"info",children:[(0,n.jsx)(s.p,{children:"If you find a patch for an error,\nplease add a comment to the relevant Cypress GitHub issue explaining your workaround.\nIt can help us release an official fix faster.\nAlternatively you can use the following command to create a new issue based on your patch contents."}),(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"npx patch-package cypress --create-issue\n"})})]})]})}function h(e={}){const{wrapper:s}={...(0,i.a)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(a,{...e})}):a(e)}function p(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},1151:(e,s,r)=>{r.d(s,{Z:()=>c,a:()=>t});var n=r(7294);const i={},o=n.createContext(i);function t(e){const s=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),n.createElement(o.Provider,{value:s},e.children)}}}]);