"use strict";(self.webpackChunkcypress_docusaurus_ts=self.webpackChunkcypress_docusaurus_ts||[]).push([[5415],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>u});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=a.createContext({}),s=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},m=function(e){var t=s(e.components);return a.createElement(c.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},k=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,c=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),p=s(n),k=i,u=p["".concat(c,".").concat(k)]||p[k]||d[k]||o;return n?a.createElement(u,r(r({ref:t},m),{},{components:n})):a.createElement(u,r({ref:t},m))}));function u(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,r=new Array(o);r[0]=k;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l[p]="string"==typeof e?e:i,r[1]=l;for(var s=2;s<o;s++)r[s]=n[s];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}k.displayName="MDXCreateElement"},5909:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>s});var a=n(7462),i=(n(7294),n(3905));const o={title:"tick"},r=void 0,l={unversionedId:"api/commands/tick",id:"api/commands/tick",title:"tick",description:"Move time after overriding a native time function with",source:"@site/docs/api/commands/tick.mdx",sourceDirName:"api/commands",slug:"/api/commands/tick",permalink:"/cypress-documentation/api/commands/tick",draft:!1,editUrl:"https://github.com/cypress-io/cypress-documentation/tree/main/docs/api/commands/tick.mdx",tags:[],version:"current",frontMatter:{title:"tick"},sidebar:"api",previous:{title:"then",permalink:"/cypress-documentation/api/commands/then"},next:{title:"viewport",permalink:"/cypress-documentation/api/commands/viewport"}},c={},s=[{value:"Syntax",id:"Syntax",level:2},{value:"Usage",id:"Usage",level:3},{value:"Arguments",id:"Arguments",level:3},{value:'Yields <Icon name="question-circle"/>',id:"Yields",level:3},{value:"Examples",id:"Examples",level:2},{value:"Milliseconds",id:"Milliseconds",level:3},{value:"Create a clock and move time to trigger a <code>setTimeout</code>",id:"Create-a-clock-and-move-time-to-trigger-a-setTimeout",level:4},{value:"Using <code>cy.clock()</code> with <code>cy.tick()</code>",id:"Using-cyclock-with-cytick",level:4},{value:"Restore clock",id:"Restore-clock",level:3},{value:"Rules",id:"Rules",level:2},{value:'Requirements <Icon name="question-circle"/>',id:"Requirements",level:3},{value:'Assertions <Icon name="question-circle"/>',id:"Assertions",level:3},{value:'Timeouts <Icon name="question-circle"/>',id:"Timeouts",level:3},{value:"Command Log",id:"Command-Log",level:2},{value:"History",id:"History",level:2},{value:"See also",id:"See-also",level:2}],m=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.kt)("div",t)},p=m("Icon"),d=m("DocsImage"),k={toc:s};function u(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},k,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Move time after overriding a native time function with\n",(0,i.kt)("a",{parentName:"p",href:"/api/commands/clock"},(0,i.kt)("inlineCode",{parentName:"a"},"cy.clock()")),"."),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("a",{parentName:"p",href:"/api/commands/clock"},(0,i.kt)("inlineCode",{parentName:"a"},"cy.clock()"))," must be called before ",(0,i.kt)("inlineCode",{parentName:"p"},"cy.tick()")," in order\nto override native time functions first.")),(0,i.kt)("h2",{id:"Syntax"},"Syntax"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"cy.tick(milliseconds, options)\n")),(0,i.kt)("h3",{id:"Usage"},"Usage"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)(p,{name:"check-circle",color:"green",mdxType:"Icon"})," Correct Usage")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"cy.tick(500)\n")),(0,i.kt)("h3",{id:"Arguments"},"Arguments"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)(p,{name:"angle-right",mdxType:"Icon"})," milliseconds")," ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("em",{parentName:"strong"},"(Number)"))),(0,i.kt)("p",null,"The number of ",(0,i.kt)("inlineCode",{parentName:"p"},"milliseconds")," to move the clock. Any timers within the affected\nrange of time will be called."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)(p,{name:"angle-right",mdxType:"Icon"})," options")," ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("em",{parentName:"strong"},"(Object)"))),(0,i.kt)("p",null,"Pass in an options object to change the default behavior of ",(0,i.kt)("inlineCode",{parentName:"p"},"cy.tick()"),"."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Option"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"log")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"true")),(0,i.kt)("td",{parentName:"tr",align:null},"Displays the command in the ",(0,i.kt)("a",{parentName:"td",href:"/guides/core-concepts/cypress-app#Command-Log"},"Command log"))))),(0,i.kt)("h3",{id:"Yields"},"Yields ",(0,i.kt)("a",{parentName:"h3",href:"/guides/core-concepts/introduction-to-cypress#Subject-Management"},(0,i.kt)(p,{name:"question-circle",mdxType:"Icon"}))),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"cy.tick()")," yields a ",(0,i.kt)("inlineCode",{parentName:"p"},"clock")," object with the following methods:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("inlineCode",{parentName:"strong"},"clock.tick(milliseconds)"))),(0,i.kt)("p",{parentName:"li"},"Move the clock a number of milliseconds. Any timers within the affected range\nof time will be called.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("inlineCode",{parentName:"strong"},"clock.restore()"))),(0,i.kt)("p",{parentName:"li"},"Restore all overridden native functions. This is automatically called between\ntests, so should not generally be needed."))),(0,i.kt)("p",null,"You can also access the ",(0,i.kt)("inlineCode",{parentName:"p"},"clock")," object via ",(0,i.kt)("inlineCode",{parentName:"p"},"this.clock")," in a\n",(0,i.kt)("a",{parentName:"p",href:"/api/commands/then"},(0,i.kt)("inlineCode",{parentName:"a"},".then()"))," callback."),(0,i.kt)("h2",{id:"Examples"},"Examples"),(0,i.kt)("h3",{id:"Milliseconds"},"Milliseconds"),(0,i.kt)("h4",{id:"Create-a-clock-and-move-time-to-trigger-a-setTimeout"},"Create a clock and move time to trigger a ",(0,i.kt)("inlineCode",{parentName:"h4"},"setTimeout")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"// app code loaded by index.html\nwindow.addIntro = () => {\n  setTimeout(() => {\n    document.getElementById('#header').textContent = 'Hello, World'\n  }, 500)\n}\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"cy.clock()\ncy.visit('/index.html')\ncy.window().invoke('addIntro')\ncy.tick(500)\ncy.get('#header').should('have.text', 'Hello, World')\n")),(0,i.kt)("h4",{id:"Using-cyclock-with-cytick"},"Using ",(0,i.kt)("inlineCode",{parentName:"h4"},"cy.clock()")," with ",(0,i.kt)("inlineCode",{parentName:"h4"},"cy.tick()")),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("a",{parentName:"p",href:"/examples/recipes#Stubbing-and-spying"},"Check out our example recipe testing spying, stubbing and time"))),(0,i.kt)("h3",{id:"Restore-clock"},"Restore clock"),(0,i.kt)("p",null,"You can restore the clock and allow your application to resume normally without\nmanipulating native global functions related to time. This is automatically\ncalled between tests."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"cy.clock()\ncy.visit('http://localhost:3333')\ncy.get('#search').type('Acme Company')\ncy.tick(1000)\n// more test code here\n\n// restore the clock\ncy.clock().then((clock) => {\n  clock.restore()\n})\n// more test code here\n")),(0,i.kt)("p",null,"You could also restore by using ",(0,i.kt)("a",{parentName:"p",href:"/api/commands/invoke"},".invoke()")," to invoke the\n",(0,i.kt)("inlineCode",{parentName:"p"},"restore")," function."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"cy.clock().invoke('restore')\n")),(0,i.kt)("h2",{id:"Rules"},"Rules"),(0,i.kt)("h3",{id:"Requirements"},"Requirements ",(0,i.kt)("a",{parentName:"h3",href:"/guides/core-concepts/introduction-to-cypress#Chains-of-Commands"},(0,i.kt)(p,{name:"question-circle",mdxType:"Icon"}))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"cy.tick()")," requires being chained off of ",(0,i.kt)("inlineCode",{parentName:"li"},"cy"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"cy.tick()")," requires that ",(0,i.kt)("inlineCode",{parentName:"li"},"cy.clock()")," be called before it.")),(0,i.kt)("h3",{id:"Assertions"},"Assertions ",(0,i.kt)("a",{parentName:"h3",href:"/guides/core-concepts/introduction-to-cypress#Assertions"},(0,i.kt)(p,{name:"question-circle",mdxType:"Icon"}))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"cy.tick()")," is a utility command."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"cy.tick()")," will not run assertions. Assertions will pass through as if this\ncommand did not exist.")),(0,i.kt)("h3",{id:"Timeouts"},"Timeouts ",(0,i.kt)("a",{parentName:"h3",href:"/guides/core-concepts/introduction-to-cypress#Timeouts"},(0,i.kt)(p,{name:"question-circle",mdxType:"Icon"}))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"cy.tick()")," cannot time out.")),(0,i.kt)("h2",{id:"Command-Log"},"Command Log"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("em",{parentName:"strong"},"Create a clock and tick it 1 second"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"cy.clock()\ncy.tick(1000)\n")),(0,i.kt)("p",null,"The command above will display in the Command Log as:"),(0,i.kt)(d,{src:"/img/api/tick/tick-machine-clock-1-second-in-time.png",alt:"Console Log tick",mdxType:"DocsImage"}),(0,i.kt)("p",null,"When clicking on the ",(0,i.kt)("inlineCode",{parentName:"p"},"tick")," command within the command log, the console outputs\nthe following:"),(0,i.kt)(d,{src:"/img/api/tick/console-shows-same-clock-object-as-clock-command.png",alt:"Console Log tick",mdxType:"DocsImage"}),(0,i.kt)("h2",{id:"History"},"History"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Version"),(0,i.kt)("th",{parentName:"tr",align:null},"Changes"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/guides/references/changelog#7-0-0"},"7.0.0")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"log")," option added to ",(0,i.kt)("inlineCode",{parentName:"td"},"cy.tick()"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/guides/references/changelog#0-18-8"},"0.18.8")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"cy.tick()")," command added")))),(0,i.kt)("h2",{id:"See-also"},"See also"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/api/commands/clock"},(0,i.kt)("inlineCode",{parentName:"a"},"cy.clock()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/api/commands/spy"},(0,i.kt)("inlineCode",{parentName:"a"},"cy.spy()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/api/commands/stub"},(0,i.kt)("inlineCode",{parentName:"a"},"cy.stub()"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/guides/guides/stubs-spies-and-clocks"},"Guide: Stubs, Spies and Clocks")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/examples/recipes#Stubbing-and-spying"},"Recipe: Stubbing, Spying"))))}u.isMDXComponent=!0}}]);